2024-12-09 09:06:50.787 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 11924 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-09 09:06:50.791 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-09 09:06:52.426 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-09 09:06:52.429 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-09 09:06:52.429 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-09 09:06:52.557 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-09 09:06:52.560 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-09 09:06:53.119 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-09 09:06:53.221 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@734a2c17
2024-12-09 09:06:53.222 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-09 09:06:54.651 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-09 09:06:54.854 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-09 09:06:54.856 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-09 09:06:55.424 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 6c8a72c5-3adf-4b36-8d81-7c922960291d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-09 09:06:56.327 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-09 09:06:56.423 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.954 seconds (process running for 6.376)
2024-12-09 09:06:56.922 [RMI TCP Connection(4)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-09 09:09:29.819 [http-nio-8080-exec-7] ERROR c.e.d.c.f.JwtUtil -
				Token validation failed: 
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2024-12-07T08:51:29Z. Current time: 2024-12-09T01:09:29Z, a difference of 145080818 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.example.demo.common.filter.JwtUtil.isTokenValid(JwtUtil.java:47)
	at com.example.demo.common.filter.JwtInterceptor.preHandle(JwtInterceptor.java:48)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:146)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-09 09:09:29.819 [http-nio-8080-exec-8] ERROR c.e.d.c.f.JwtUtil -
				Token validation failed: 
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2024-12-07T08:51:29Z. Current time: 2024-12-09T01:09:29Z, a difference of 145080818 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.example.demo.common.filter.JwtUtil.isTokenValid(JwtUtil.java:47)
	at com.example.demo.common.filter.JwtInterceptor.preHandle(JwtInterceptor.java:48)
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:146)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-09 09:09:36.101 [http-nio-8080-exec-10] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: ruka
2024-12-09 09:09:36.257 [http-nio-8080-exec-10] INFO  c.e.d.s.u.UserServiceImpl -
				用戶ruka登入成功
2024-12-09 09:09:36.257 [http-nio-8080-exec-10] INFO  c.e.d.c.a.LoginAspect -
				用戶: ruka 登入成功
2024-12-09 09:09:37.705 [http-nio-8080-exec-1] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:8QT3L
2024-12-09 09:09:41.704 [http-nio-8080-exec-8] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:RL9JE
2024-12-09 09:09:45.210 [http-nio-8080-exec-2] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:TBKUD
2024-12-09 09:09:49.111 [http-nio-8080-exec-3] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:5BMRP
2024-12-09 09:09:55.084 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1490
2024-12-09 09:09:55.085 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1489
2024-12-09 09:09:55.086 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1489，RequestID: de8073e1-1637-4fc9-8d64-5a266cf62d76
2024-12-09 09:09:55.091 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-09 09:09:55.099 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63338, eventId=1, section=A區, quantity=1
2024-12-09 09:09:55.102 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-09 09:09:55.103 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=de8073e1-1637-4fc9-8d64-5a266cf62d76
2024-12-09 09:09:55.104 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-20
2024-12-09 09:09:56.100 [http-nio-8080-exec-8] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63338, orderStatus=付款中)
2024-12-09 09:09:56.119 [http-nio-8080-exec-10] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63338, 用戶名: ruka, 請求ID: {}
2024-12-09 09:10:00.562 [http-nio-8080-exec-2] INFO  c.e.d.u.DatabaseUtils -
				updateOrderStatus更新成功，影響筆數: 1
2024-12-09 09:10:01.430 [http-nio-8080-exec-5] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63338, 用戶名: ruka, 請求ID: {}
2024-12-09 09:18:45.319 [RMI TCP Connection(24)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-09 09:18:45.344 [RMI TCP Connection(24)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-09 09:18:45.348 [RMI TCP Connection(24)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-09 09:18:48.041 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 8032 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-09 09:18:48.042 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-09 09:18:49.324 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-09 09:18:49.326 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-09 09:18:49.326 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-09 09:18:49.444 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-09 09:18:49.447 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-09 09:18:49.874 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-09 09:18:49.960 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@62ec4146
2024-12-09 09:18:49.962 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-09 09:18:51.178 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-09 09:18:51.345 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-09 09:18:51.347 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-09 09:18:51.859 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 1bdf47ef-49d1-45e9-8609-47fb66255033

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-09 09:18:52.693 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-09 09:18:52.771 [main] INFO  c.e.d.MainApp -
				Started MainApp in 4.999 seconds (process running for 5.335)
2024-12-09 09:18:53.179 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-09 09:19:00.691 [http-nio-8080-exec-4] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:KKGJH
2024-12-09 09:19:10.655 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1489
2024-12-09 09:19:10.656 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1488
2024-12-09 09:19:10.656 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1488，RequestID: c54a4b72-6818-4cf0-9755-5a54ae8f6756
2024-12-09 09:19:10.662 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-09 09:19:10.668 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63339, eventId=1, section=A區, quantity=1
2024-12-09 09:19:10.670 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-09 09:19:10.670 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=c54a4b72-6818-4cf0-9755-5a54ae8f6756
2024-12-09 09:19:10.723 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-21
2024-12-09 09:19:11.668 [http-nio-8080-exec-9] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63339, orderStatus=付款中)
2024-12-09 09:19:11.685 [http-nio-8080-exec-8] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63339, 用戶名: ruka, 請求ID: {}
2024-12-09 09:19:12.801 [http-nio-8080-exec-2] INFO  c.e.d.u.DatabaseUtils -
				updateOrderStatus更新成功，影響筆數: 1
2024-12-09 09:19:13.773 [http-nio-8080-exec-4] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63339, 用戶名: ruka, 請求ID: {}
2024-12-09 09:21:20.120 [http-nio-8080-exec-2] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:MUNYW
2024-12-09 09:21:21.984 [http-nio-8080-exec-6] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:HEWEK
2024-12-09 09:21:24.087 [http-nio-8080-exec-8] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:J954V
2024-12-09 09:22:41.950 [RMI TCP Connection(15)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-09 09:22:41.974 [RMI TCP Connection(15)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-09 09:22:41.978 [RMI TCP Connection(15)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-09 09:22:44.283 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 3652 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-09 09:22:44.284 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-09 09:22:45.561 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-09 09:22:45.563 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-09 09:22:45.563 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-09 09:22:45.681 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-09 09:22:45.684 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-09 09:22:46.115 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-09 09:22:46.202 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3833897c
2024-12-09 09:22:46.204 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-09 09:22:47.413 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-09 09:22:47.582 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-09 09:22:47.585 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-09 09:22:48.093 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 4b8f3ab8-fa84-4e1a-93e2-25320459b38f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-09 09:22:48.910 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-09 09:22:48.983 [main] INFO  c.e.d.MainApp -
				Started MainApp in 4.969 seconds (process running for 5.307)
2024-12-09 09:22:49.474 [RMI TCP Connection(9)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-09 09:23:20.924 [http-nio-8080-exec-3] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:QNU84
2024-12-09 09:23:25.175 [http-nio-8080-exec-6] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:EJJ9L
2024-12-09 09:23:31.524 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 980
2024-12-09 09:23:31.525 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：980，RequestID: 448dd0f6-5b1b-40d1-8aff-b319a07b5d35
2024-12-09 09:23:31.529 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-09 09:23:31.599 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63340, eventId=2, section=A區, quantity=1
2024-12-09 09:23:31.602 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-09 09:23:31.603 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=2, Section=A區, Quantity=1, RequestId=448dd0f6-5b1b-40d1-8aff-b319a07b5d35
2024-12-09 09:23:31.603 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-2
2024-12-09 09:23:32.533 [http-nio-8080-exec-3] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63340, orderStatus=付款中)
2024-12-09 09:23:32.550 [http-nio-8080-exec-8] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63340, 用戶名: ruka, 請求ID: {}
2024-12-09 09:23:34.912 [http-nio-8080-exec-6] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:XTWN9
2024-12-09 09:59:03.762 [http-nio-8080-exec-6] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: admin
2024-12-09 09:59:03.842 [http-nio-8080-exec-6] WARN  c.e.d.s.u.UserServiceImpl -
				登入失敗：用戶admin密碼錯誤
2024-12-09 09:59:03.843 [http-nio-8080-exec-6] WARN  c.e.d.c.a.LoginAspect -
				用戶: admin 登入失敗, 原因: 密碼錯誤
2024-12-09 09:59:08.793 [http-nio-8080-exec-5] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: admin
2024-12-09 09:59:08.863 [http-nio-8080-exec-5] INFO  c.e.d.s.u.UserServiceImpl -
				用戶admin登入成功
2024-12-09 09:59:08.863 [http-nio-8080-exec-5] INFO  c.e.d.c.a.LoginAspect -
				用戶: admin 登入成功
2024-12-09 09:59:13.482 [http-nio-8080-exec-7] ERROR c.e.d.u.DatabaseUtils -
				查詢熱賣中狀態失敗
2024-12-09 09:59:13.484 [http-nio-8080-exec-7] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdminEventServiceImpl中的getStatusOnSale方法發生錯誤: 查詢熱賣中狀態失敗StatementCallback; bad SQL grammar [select 		   e.event_id		 as eventId,
			   e.event_name 	 as eventName,
			   e.event_salesdate as eventSalesDate,
			   e.event_salestime as eventSalesTime,
			   e.event_date		 as eventDate,
			   e.event_time	     as eventTime,
			   e.event_status    as eventStatus,
			   s.sales_status 	 as salesStatus



from 			event e
join 			sales s
on 				e.event_id=s.event_id
where  			e.event_status='即將舉辦']
2024-12-09 09:59:13.485 [http-nio-8080-exec-7] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.adminPanel.controller.AdminEventController#getEventOnSale()
請求方法: GET
請求路徑: /admin/event/onsale
請求參數: org.apache.catalina.util.ParameterMap@499cd567
異常類型: RuntimeException
錯誤訊息: 查詢熱賣中狀態失敗StatementCallback; bad SQL grammar [select 		   e.event_id		 as eventId,
			   e.event_name 	 as eventName,
			   e.event_salesdate as eventSalesDate,
			   e.event_salestime as eventSalesTime,
			   e.event_date		 as eventDate,
			   e.event_time	     as eventTime,
			   e.event_status    as eventStatus,
			   s.sales_status 	 as salesStatus



from 			event e
join 			sales s
on 				e.event_id=s.event_id
where  			e.event_status='即將舉辦']
堆疊追蹤:

java.lang.RuntimeException: 查詢熱賣中狀態失敗StatementCallback; bad SQL grammar [select 		   e.event_id		 as eventId,
			   e.event_name 	 as eventName,
			   e.event_salesdate as eventSalesDate,
			   e.event_salestime as eventSalesTime,
			   e.event_date		 as eventDate,
			   e.event_time	     as eventTime,
			   e.event_status    as eventStatus,
			   s.sales_status 	 as salesStatus



from 			event e
join 			sales s
on 				e.event_id=s.event_id
where  			e.event_status='即將舉辦']
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.event.AdminEventServiceImpl$$SpringCGLIB$$0.getStatusOnSale(<generated>)
	at com.example.demo.adminPanel.controller.AdminEventController.getEventOnSale(AdminEventController.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-09 09:59:16.721 [http-nio-8080-exec-8] ERROR c.e.d.u.DatabaseUtils -
				查詢熱賣中狀態失敗
2024-12-09 09:59:16.722 [http-nio-8080-exec-8] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdminEventServiceImpl中的getStatusOnSale方法發生錯誤: 查詢熱賣中狀態失敗StatementCallback; bad SQL grammar [select 		   e.event_id		 as eventId,
			   e.event_name 	 as eventName,
			   e.event_salesdate as eventSalesDate,
			   e.event_salestime as eventSalesTime,
			   e.event_date		 as eventDate,
			   e.event_time	     as eventTime,
			   e.event_status    as eventStatus,
			   s.sales_status 	 as salesStatus



from 			event e
join 			sales s
on 				e.event_id=s.event_id
where  			e.event_status='即將舉辦']
2024-12-09 09:59:16.722 [http-nio-8080-exec-8] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.adminPanel.controller.AdminEventController#getEventOnSale()
請求方法: GET
請求路徑: /admin/event/onsale
請求參數: org.apache.catalina.util.ParameterMap@6ebdbbb1
異常類型: RuntimeException
錯誤訊息: 查詢熱賣中狀態失敗StatementCallback; bad SQL grammar [select 		   e.event_id		 as eventId,
			   e.event_name 	 as eventName,
			   e.event_salesdate as eventSalesDate,
			   e.event_salestime as eventSalesTime,
			   e.event_date		 as eventDate,
			   e.event_time	     as eventTime,
			   e.event_status    as eventStatus,
			   s.sales_status 	 as salesStatus



from 			event e
join 			sales s
on 				e.event_id=s.event_id
where  			e.event_status='即將舉辦']
堆疊追蹤:

java.lang.RuntimeException: 查詢熱賣中狀態失敗StatementCallback; bad SQL grammar [select 		   e.event_id		 as eventId,
			   e.event_name 	 as eventName,
			   e.event_salesdate as eventSalesDate,
			   e.event_salestime as eventSalesTime,
			   e.event_date		 as eventDate,
			   e.event_time	     as eventTime,
			   e.event_status    as eventStatus,
			   s.sales_status 	 as salesStatus



from 			event e
join 			sales s
on 				e.event_id=s.event_id
where  			e.event_status='即將舉辦']
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.event.AdminEventServiceImpl$$SpringCGLIB$$0.getStatusOnSale(<generated>)
	at com.example.demo.adminPanel.controller.AdminEventController.getEventOnSale(AdminEventController.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-09 10:03:02.035 [RMI TCP Connection(50)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-09 10:03:02.052 [RMI TCP Connection(50)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-09 10:03:02.054 [RMI TCP Connection(50)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-09 10:03:04.573 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 15692 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-09 10:03:04.574 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-09 10:03:05.971 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-09 10:03:05.974 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-09 10:03:05.974 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-09 10:03:06.086 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-09 10:03:06.089 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-09 10:03:06.629 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-09 10:03:06.718 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@b0c4905
2024-12-09 10:03:06.719 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-09 10:03:08.109 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-09 10:03:08.278 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:03:08.281 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:03:08.830 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 6592b1a1-6787-49df-b392-95e15b150bc5

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-09 10:03:09.678 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-09 10:03:09.751 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.451 seconds (process running for 5.814)
2024-12-09 10:03:10.152 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-09 10:05:08.081 [http-nio-8080-exec-1] ERROR c.e.d.u.DatabaseUtils -
				查詢熱賣中狀態失敗
2024-12-09 10:05:08.085 [http-nio-8080-exec-1] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdminEventServiceImpl中的getStatusOnSale方法發生錯誤: 查詢熱賣中狀態失敗StatementCallback; bad SQL grammar [select 		   e.event_id		 as eventId,
			   e.event_name 	 as eventName,
			   e.event_salesdate as eventSalesDate,
			   e.event_salestime as eventSalesTime,
			   e.event_date		 as eventDate,
			   e.event_time	     as eventTime,
			   e.event_status    as eventStatus,



from 			event e
join 			sales s
on 				e.event_id=s.event_id
where  			e.event_status='即將舉辦']
2024-12-09 10:05:08.086 [http-nio-8080-exec-1] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.adminPanel.controller.AdminEventController#getEventOnSale()
請求方法: GET
請求路徑: /admin/event/onsale
請求參數: org.apache.catalina.util.ParameterMap@2ce3b62f
異常類型: RuntimeException
錯誤訊息: 查詢熱賣中狀態失敗StatementCallback; bad SQL grammar [select 		   e.event_id		 as eventId,
			   e.event_name 	 as eventName,
			   e.event_salesdate as eventSalesDate,
			   e.event_salestime as eventSalesTime,
			   e.event_date		 as eventDate,
			   e.event_time	     as eventTime,
			   e.event_status    as eventStatus,



from 			event e
join 			sales s
on 				e.event_id=s.event_id
where  			e.event_status='即將舉辦']
堆疊追蹤:

java.lang.RuntimeException: 查詢熱賣中狀態失敗StatementCallback; bad SQL grammar [select 		   e.event_id		 as eventId,
			   e.event_name 	 as eventName,
			   e.event_salesdate as eventSalesDate,
			   e.event_salestime as eventSalesTime,
			   e.event_date		 as eventDate,
			   e.event_time	     as eventTime,
			   e.event_status    as eventStatus,



from 			event e
join 			sales s
on 				e.event_id=s.event_id
where  			e.event_status='即將舉辦']
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.event.AdminEventServiceImpl$$SpringCGLIB$$0.getStatusOnSale(<generated>)
	at com.example.demo.adminPanel.controller.AdminEventController.getEventOnSale(AdminEventController.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-09 10:06:46.176 [RMI TCP Connection(15)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-09 10:06:46.194 [RMI TCP Connection(15)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-09 10:06:46.198 [RMI TCP Connection(15)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-09 10:06:48.836 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 4416 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-09 10:06:48.837 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-09 10:06:50.122 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-09 10:06:50.125 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-09 10:06:50.125 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-09 10:06:50.243 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-09 10:06:50.246 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-09 10:06:50.684 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-09 10:06:50.771 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3833897c
2024-12-09 10:06:50.772 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-09 10:06:52.000 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-09 10:06:52.166 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:06:52.169 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:06:52.693 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 34f1c56b-defb-4827-862f-1438ca857261

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-09 10:06:53.532 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-09 10:06:53.605 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.041 seconds (process running for 5.377)
2024-12-09 10:06:53.916 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-09 10:07:14.624 [http-nio-8080-exec-1] ERROR c.e.d.u.DatabaseUtils -
				查詢熱賣中狀態失敗
2024-12-09 10:07:14.627 [http-nio-8080-exec-1] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdminEventServiceImpl中的getStatusOnSale方法發生錯誤: 查詢熱賣中狀態失敗StatementCallback; bad SQL grammar [select
			   e.event_id		 as eventId,
			   e.event_name 	 as eventName,
			   e.event_salesdate as eventSalesDate,
			   e.event_salestime as eventSalesTime,
			   e.event_date		 as eventDate,
			   e.event_time	     as eventTime,
			   e.event_status    as eventStatus,



from 			event e

where  			e.event_status='即將舉辦']
2024-12-09 10:07:14.629 [http-nio-8080-exec-1] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.adminPanel.controller.AdminEventController#getEventOnSale()
請求方法: GET
請求路徑: /admin/event/onsale
請求參數: org.apache.catalina.util.ParameterMap@7ccbc211
異常類型: RuntimeException
錯誤訊息: 查詢熱賣中狀態失敗StatementCallback; bad SQL grammar [select
			   e.event_id		 as eventId,
			   e.event_name 	 as eventName,
			   e.event_salesdate as eventSalesDate,
			   e.event_salestime as eventSalesTime,
			   e.event_date		 as eventDate,
			   e.event_time	     as eventTime,
			   e.event_status    as eventStatus,



from 			event e

where  			e.event_status='即將舉辦']
堆疊追蹤:

java.lang.RuntimeException: 查詢熱賣中狀態失敗StatementCallback; bad SQL grammar [select
			   e.event_id		 as eventId,
			   e.event_name 	 as eventName,
			   e.event_salesdate as eventSalesDate,
			   e.event_salestime as eventSalesTime,
			   e.event_date		 as eventDate,
			   e.event_time	     as eventTime,
			   e.event_status    as eventStatus,



from 			event e

where  			e.event_status='即將舉辦']
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.event.AdminEventServiceImpl$$SpringCGLIB$$0.getStatusOnSale(<generated>)
	at com.example.demo.adminPanel.controller.AdminEventController.getEventOnSale(AdminEventController.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-09 10:07:49.000 [RMI TCP Connection(12)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-09 10:07:49.022 [RMI TCP Connection(12)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-09 10:07:49.026 [RMI TCP Connection(12)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-09 10:07:51.499 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 4024 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-09 10:07:51.500 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-09 10:07:52.884 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-09 10:07:52.886 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-09 10:07:52.886 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-09 10:07:53.008 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-09 10:07:53.011 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-09 10:07:53.481 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-09 10:07:53.572 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@362e709e
2024-12-09 10:07:53.574 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-09 10:07:54.849 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-09 10:07:55.029 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:07:55.032 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:07:55.570 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: a4b5e18a-d533-42bf-aa80-18e47c029fdc

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-09 10:07:56.451 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-09 10:07:56.526 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.311 seconds (process running for 5.668)
2024-12-09 10:07:57.121 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-09 10:09:00.658 [http-nio-8080-exec-4] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: amdin
2024-12-09 10:09:00.735 [http-nio-8080-exec-4] WARN  c.e.d.s.u.UserServiceImpl -
				登入失敗：用戶名amdin不存在
2024-12-09 10:09:00.736 [http-nio-8080-exec-4] WARN  c.e.d.c.a.LoginAspect -
				用戶: amdin 登入失敗, 原因: 帳號不存在
2024-12-09 10:09:05.912 [http-nio-8080-exec-7] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: admin
2024-12-09 10:09:05.988 [http-nio-8080-exec-7] INFO  c.e.d.s.u.UserServiceImpl -
				用戶admin登入成功
2024-12-09 10:09:05.988 [http-nio-8080-exec-7] INFO  c.e.d.c.a.LoginAspect -
				用戶: admin 登入成功
2024-12-09 10:13:41.944 [http-nio-8080-exec-9] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: admin
2024-12-09 10:13:42.016 [http-nio-8080-exec-9] INFO  c.e.d.s.u.UserServiceImpl -
				用戶admin登入成功
2024-12-09 10:13:42.016 [http-nio-8080-exec-9] INFO  c.e.d.c.a.LoginAspect -
				用戶: admin 登入成功
2024-12-09 10:15:15.912 [http-nio-8080-exec-2] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: admin
2024-12-09 10:15:15.919 [http-nio-8080-exec-2] WARN  c.z.h.p.PoolBase -
				HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@362e709e (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-12-09 10:15:15.920 [http-nio-8080-exec-2] WARN  c.z.h.p.PoolBase -
				HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@47518064 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-12-09 10:15:15.921 [http-nio-8080-exec-2] WARN  c.z.h.p.PoolBase -
				HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@f4e89e8 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-12-09 10:15:15.921 [http-nio-8080-exec-2] WARN  c.z.h.p.PoolBase -
				HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@75f50bda (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-12-09 10:15:15.922 [http-nio-8080-exec-2] WARN  c.z.h.p.PoolBase -
				HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@34620df3 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-12-09 10:15:15.922 [http-nio-8080-exec-2] WARN  c.z.h.p.PoolBase -
				HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7f7be9bb (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-12-09 10:15:15.922 [http-nio-8080-exec-2] WARN  c.z.h.p.PoolBase -
				HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4013e75 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-12-09 10:15:15.923 [http-nio-8080-exec-2] WARN  c.z.h.p.PoolBase -
				HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@59775ef4 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-12-09 10:15:15.923 [http-nio-8080-exec-2] WARN  c.z.h.p.PoolBase -
				HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7ddecdbc (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-12-09 10:15:15.924 [http-nio-8080-exec-2] WARN  c.z.h.p.PoolBase -
				HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@5dc8d58d (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-12-09 10:15:16.000 [http-nio-8080-exec-2] INFO  c.e.d.s.u.UserServiceImpl -
				用戶admin登入成功
2024-12-09 10:15:16.000 [http-nio-8080-exec-2] INFO  c.e.d.c.a.LoginAspect -
				用戶: admin 登入成功
2024-12-09 10:15:43.537 [http-nio-8080-exec-4] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: admin
2024-12-09 10:15:43.607 [http-nio-8080-exec-4] INFO  c.e.d.s.u.UserServiceImpl -
				用戶admin登入成功
2024-12-09 10:15:43.607 [http-nio-8080-exec-4] INFO  c.e.d.c.a.LoginAspect -
				用戶: admin 登入成功
2024-12-09 10:19:42.596 [http-nio-8080-exec-10] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: admin
2024-12-09 10:19:42.665 [http-nio-8080-exec-10] INFO  c.e.d.s.u.UserServiceImpl -
				用戶admin登入成功
2024-12-09 10:19:42.665 [http-nio-8080-exec-10] INFO  c.e.d.c.a.LoginAspect -
				用戶: admin 登入成功
2024-12-09 10:46:55.543 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 9048 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-09 10:46:55.544 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-09 10:46:56.967 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-09 10:46:56.970 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-09 10:46:56.970 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-09 10:46:57.096 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-09 10:46:57.100 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-09 10:46:57.604 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-09 10:46:57.718 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@62ec4146
2024-12-09 10:46:57.720 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-09 10:46:59.094 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-09 10:46:59.295 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:46:59.299 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:46:59.924 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 5115499c-6137-4043-8d7c-f5594b031921

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-09 10:47:00.848 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-09 10:47:00.950 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.731 seconds (process running for 6.249)
2024-12-09 10:47:01.171 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-09 10:53:18.791 [http-nio-8080-exec-7] ERROR c.e.d.u.DatabaseUtils -
				找不到用戶 ID:10 的訂單詳細資訊
2024-12-09 10:53:18.793 [http-nio-8080-exec-7] ERROR c.e.d.c.a.GlobalExceptionAspect -
				OrderServiceImpl中的getAllUserOrder方法發生錯誤: 找不到用戶 ID:10 的訂單詳細資訊PreparedStatementCallback; bad SQL grammar [SELECT
		    o.order_id as orderId,
		    o.order_quantity as orderQuantity,
		    o.order_section as orderSection,
		    o.order_datetime as orderDateTime,
		    o.order_status as orderStatus,
			o.request_id as requestId,
		    e.event_name as eventName,
		    e.event_performer as eventPerformer,
		    e.event_date as eventDate,
		    e.event_time as eventTime,
		    e.event_location as eventLocation,

		    t.ticket_price as ticketPrice,

			p.pic_event_ticket as picEventTicket,

		    h.host_name as hostName,

    GROUP_CONCAT(p.pool_number) as poolNumbers

	FROM users u
	JOIN orders o ON o.user_id = u.user_id
	JOIN event e ON o.event_id = e.event_id
	JOIN host h ON e.host_id = h.host_id
	JOIN ticket t ON t.ticket_name = o.order_section AND t.event_id = o.event_id
	join pic p on p.pic_id=e.event_id
	LEFT JOIN pool p ON o.order_id = p.order_id
	WHERE u.user_id = ?
	GROUP BY
			    o.order_id,
			    o.order_quantity,
			    o.order_section,
			    o.order_datetime,
			    o.order_status,
			    o.request_id ,
			    e.event_name,
			    e.event_performer,
			    e.event_date,
			    e.event_time,
			    e.event_location,
			    t.ticket_price,
			    p.pic_event_ticket,
			    h.host_name
	ORDER BY o.order_datetime DESC]
2024-12-09 10:53:18.795 [http-nio-8080-exec-7] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.controller.UserController#getUserOrder(String)
請求方法: GET
請求路徑: /user/order/admin
請求參數: org.apache.catalina.util.ParameterMap@71dfb3df
異常類型: RuntimeException
錯誤訊息: 找不到用戶 ID:10 的訂單詳細資訊PreparedStatementCallback; bad SQL grammar [SELECT
		    o.order_id as orderId,
		    o.order_quantity as orderQuantity,
		    o.order_section as orderSection,
		    o.order_datetime as orderDateTime,
		    o.order_status as orderStatus,
			o.request_id as requestId,
		    e.event_name as eventName,
		    e.event_performer as eventPerformer,
		    e.event_date as eventDate,
		    e.event_time as eventTime,
		    e.event_location as eventLocation,

		    t.ticket_price as ticketPrice,

			p.pic_event_ticket as picEventTicket,

		    h.host_name as hostName,

    GROUP_CONCAT(p.pool_number) as poolNumbers

	FROM users u
	JOIN orders o ON o.user_id = u.user_id
	JOIN event e ON o.event_id = e.event_id
	JOIN host h ON e.host_id = h.host_id
	JOIN ticket t ON t.ticket_name = o.order_section AND t.event_id = o.event_id
	join pic p on p.pic_id=e.event_id
	LEFT JOIN pool p ON o.order_id = p.order_id
	WHERE u.user_id = ?
	GROUP BY
			    o.order_id,
			    o.order_quantity,
			    o.order_section,
			    o.order_datetime,
			    o.order_status,
			    o.request_id ,
			    e.event_name,
			    e.event_performer,
			    e.event_date,
			    e.event_time,
			    e.event_location,
			    t.ticket_price,
			    p.pic_event_ticket,
			    h.host_name
	ORDER BY o.order_datetime DESC]
堆疊追蹤:

java.lang.RuntimeException: 找不到用戶 ID:10 的訂單詳細資訊PreparedStatementCallback; bad SQL grammar [SELECT
		    o.order_id as orderId,
		    o.order_quantity as orderQuantity,
		    o.order_section as orderSection,
		    o.order_datetime as orderDateTime,
		    o.order_status as orderStatus,
			o.request_id as requestId,
		    e.event_name as eventName,
		    e.event_performer as eventPerformer,
		    e.event_date as eventDate,
		    e.event_time as eventTime,
		    e.event_location as eventLocation,

		    t.ticket_price as ticketPrice,

			p.pic_event_ticket as picEventTicket,

		    h.host_name as hostName,

    GROUP_CONCAT(p.pool_number) as poolNumbers

	FROM users u
	JOIN orders o ON o.user_id = u.user_id
	JOIN event e ON o.event_id = e.event_id
	JOIN host h ON e.host_id = h.host_id
	JOIN ticket t ON t.ticket_name = o.order_section AND t.event_id = o.event_id
	join pic p on p.pic_id=e.event_id
	LEFT JOIN pool p ON o.order_id = p.order_id
	WHERE u.user_id = ?
	GROUP BY
			    o.order_id,
			    o.order_quantity,
			    o.order_section,
			    o.order_datetime,
			    o.order_status,
			    o.request_id ,
			    e.event_name,
			    e.event_performer,
			    e.event_date,
			    e.event_time,
			    e.event_location,
			    t.ticket_price,
			    p.pic_event_ticket,
			    h.host_name
	ORDER BY o.order_datetime DESC]
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.service.order.OrderServiceImpl$$SpringCGLIB$$0.getAllUserOrder(<generated>)
	at com.example.demo.controller.UserController.getUserOrder(UserController.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-09 10:53:35.701 [RMI TCP Connection(19)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-09 10:53:35.726 [RMI TCP Connection(19)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-09 10:53:35.730 [RMI TCP Connection(19)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-09 10:53:38.380 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 15600 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-09 10:53:38.381 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-09 10:53:39.744 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-09 10:53:39.747 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-09 10:53:39.747 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-09 10:53:39.873 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-09 10:53:39.876 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-09 10:53:40.344 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-09 10:53:40.435 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@62ec4146
2024-12-09 10:53:40.436 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-09 10:53:41.728 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-09 10:53:41.911 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:53:41.913 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:53:42.453 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 7b75d927-5ca7-44e9-be94-9d013bd9455a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-09 10:53:43.323 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-09 10:53:43.404 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.313 seconds (process running for 5.679)
2024-12-09 10:53:43.521 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-09 10:54:24.165 [http-nio-8080-exec-1] ERROR c.e.d.u.DatabaseUtils -
				找不到用戶 ID:10 的訂單詳細資訊
2024-12-09 10:54:24.167 [http-nio-8080-exec-1] ERROR c.e.d.c.a.GlobalExceptionAspect -
				OrderServiceImpl中的getAllUserOrder方法發生錯誤: 找不到用戶 ID:10 的訂單詳細資訊PreparedStatementCallback; bad SQL grammar [SELECT
		    o.order_id as orderId,
		    o.order_quantity as orderQuantity,
		    o.order_section as orderSection,
		    o.order_datetime as orderDateTime,
		    o.order_status as orderStatus,
			o.request_id as requestId,
		    e.event_name as eventName,
		    e.event_performer as eventPerformer,
		    e.event_date as eventDate,
		    e.event_time as eventTime,
		    e.event_location as eventLocation,

		    t.ticket_price as ticketPrice,

			p.pic_event_ticket as picEventTicket,

		    h.host_name as hostName,

    GROUP_CONCAT(p.pool_number) as poolNumbers

	FROM users u
	JOIN orders o ON o.user_id = u.user_id
	JOIN event e ON o.event_id = e.event_id
	JOIN host h ON e.host_id = h.host_id
	JOIN ticket t ON t.ticket_name = o.order_section AND t.event_id = o.event_id
	join pic p on p.pic_id=e.event_id
	LEFT JOIN pool p ON o.order_id = p.order_id
	WHERE u.user_id = ?
	GROUP BY
			    o.order_id,
			    o.order_quantity,
			    o.order_section,
			    o.order_datetime,
			    o.order_status,
			    o.request_id ,
			    e.event_name,
			    e.event_performer,
			    e.event_date,
			    e.event_time,
			    e.event_location,
			    t.ticket_price,
			    p.pic_event_ticket,
			    h.host_name
	ORDER BY o.order_datetime DESC]
2024-12-09 10:54:24.169 [http-nio-8080-exec-1] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.controller.UserController#getUserOrder(String)
請求方法: GET
請求路徑: /user/order/admin
請求參數: org.apache.catalina.util.ParameterMap@fbcc28d
異常類型: RuntimeException
錯誤訊息: 找不到用戶 ID:10 的訂單詳細資訊PreparedStatementCallback; bad SQL grammar [SELECT
		    o.order_id as orderId,
		    o.order_quantity as orderQuantity,
		    o.order_section as orderSection,
		    o.order_datetime as orderDateTime,
		    o.order_status as orderStatus,
			o.request_id as requestId,
		    e.event_name as eventName,
		    e.event_performer as eventPerformer,
		    e.event_date as eventDate,
		    e.event_time as eventTime,
		    e.event_location as eventLocation,

		    t.ticket_price as ticketPrice,

			p.pic_event_ticket as picEventTicket,

		    h.host_name as hostName,

    GROUP_CONCAT(p.pool_number) as poolNumbers

	FROM users u
	JOIN orders o ON o.user_id = u.user_id
	JOIN event e ON o.event_id = e.event_id
	JOIN host h ON e.host_id = h.host_id
	JOIN ticket t ON t.ticket_name = o.order_section AND t.event_id = o.event_id
	join pic p on p.pic_id=e.event_id
	LEFT JOIN pool p ON o.order_id = p.order_id
	WHERE u.user_id = ?
	GROUP BY
			    o.order_id,
			    o.order_quantity,
			    o.order_section,
			    o.order_datetime,
			    o.order_status,
			    o.request_id ,
			    e.event_name,
			    e.event_performer,
			    e.event_date,
			    e.event_time,
			    e.event_location,
			    t.ticket_price,
			    p.pic_event_ticket,
			    h.host_name
	ORDER BY o.order_datetime DESC]
堆疊追蹤:

java.lang.RuntimeException: 找不到用戶 ID:10 的訂單詳細資訊PreparedStatementCallback; bad SQL grammar [SELECT
		    o.order_id as orderId,
		    o.order_quantity as orderQuantity,
		    o.order_section as orderSection,
		    o.order_datetime as orderDateTime,
		    o.order_status as orderStatus,
			o.request_id as requestId,
		    e.event_name as eventName,
		    e.event_performer as eventPerformer,
		    e.event_date as eventDate,
		    e.event_time as eventTime,
		    e.event_location as eventLocation,

		    t.ticket_price as ticketPrice,

			p.pic_event_ticket as picEventTicket,

		    h.host_name as hostName,

    GROUP_CONCAT(p.pool_number) as poolNumbers

	FROM users u
	JOIN orders o ON o.user_id = u.user_id
	JOIN event e ON o.event_id = e.event_id
	JOIN host h ON e.host_id = h.host_id
	JOIN ticket t ON t.ticket_name = o.order_section AND t.event_id = o.event_id
	join pic p on p.pic_id=e.event_id
	LEFT JOIN pool p ON o.order_id = p.order_id
	WHERE u.user_id = ?
	GROUP BY
			    o.order_id,
			    o.order_quantity,
			    o.order_section,
			    o.order_datetime,
			    o.order_status,
			    o.request_id ,
			    e.event_name,
			    e.event_performer,
			    e.event_date,
			    e.event_time,
			    e.event_location,
			    t.ticket_price,
			    p.pic_event_ticket,
			    h.host_name
	ORDER BY o.order_datetime DESC]
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.service.order.OrderServiceImpl$$SpringCGLIB$$0.getAllUserOrder(<generated>)
	at com.example.demo.controller.UserController.getUserOrder(UserController.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-09 10:55:45.495 [RMI TCP Connection(12)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-09 10:55:45.520 [RMI TCP Connection(12)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-09 10:55:45.524 [RMI TCP Connection(12)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-09 10:55:48.132 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 8792 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-09 10:55:48.133 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-09 10:55:49.501 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-09 10:55:49.503 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-09 10:55:49.504 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-09 10:55:49.630 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-09 10:55:49.633 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-09 10:55:50.096 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-09 10:55:50.189 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@444ebefd
2024-12-09 10:55:50.191 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-09 10:55:51.468 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-09 10:55:51.647 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:55:51.650 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:55:52.183 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: db07657d-ccdc-40ec-878c-81f68dec7e83

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-09 10:55:53.071 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-09 10:55:53.147 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.303 seconds (process running for 5.665)
2024-12-09 10:55:53.320 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-09 10:58:39.847 [http-nio-8080-exec-1] ERROR c.e.d.u.DatabaseUtils -
				找不到用戶 ID:10 的訂單詳細資訊
2024-12-09 10:58:39.850 [http-nio-8080-exec-1] ERROR c.e.d.c.a.GlobalExceptionAspect -
				OrderServiceImpl中的getAllUserOrder方法發生錯誤: 找不到用戶 ID:10 的訂單詳細資訊PreparedStatementCallback; bad SQL grammar [SELECT
		    o.order_id as orderId,
		    o.order_quantity as orderQuantity,
		    o.order_section as orderSection,
		    o.order_datetime as orderDateTime,
		    o.order_status as orderStatus,
			o.request_id as requestId,
		    e.event_name as eventName,
		    e.event_performer as eventPerformer,
		    e.event_date as eventDate,
		    e.event_time as eventTime,
		    e.event_location as eventLocation,

		    t.ticket_price as ticketPrice,

			c.pic_event_ticket as picEventTicket,

		    h.host_name as hostName,

    GROUP_CONCAT(p.pool_number) as poolNumbers

	FROM users u
	JOIN orders o ON o.user_id = u.user_id
	JOIN event e ON o.event_id = e.event_id
	JOIN host h ON e.host_id = h.host_id
	JOIN ticket t ON t.ticket_name = o.order_section AND t.event_id = o.event_id
	join pic c on c.pic_id=e.event_id
	LEFT JOIN pool p ON o.order_id = p.order_id
	WHERE u.user_id = ?
	GROUP BY
			    o.order_id,
			    o.order_quantity,
			    o.order_section,
			    o.order_datetime,
			    o.order_status,
			    o.request_id ,
			    e.event_name,
			    e.event_performer,
			    e.event_date,
			    e.event_time,
			    e.event_location,
			    t.ticket_price,
			    p.pic_event_ticket,
			    h.host_name
	ORDER BY o.order_datetime DESC]
2024-12-09 10:58:39.852 [http-nio-8080-exec-1] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.controller.UserController#getUserOrder(String)
請求方法: GET
請求路徑: /user/order/admin
請求參數: org.apache.catalina.util.ParameterMap@6feccaff
異常類型: RuntimeException
錯誤訊息: 找不到用戶 ID:10 的訂單詳細資訊PreparedStatementCallback; bad SQL grammar [SELECT
		    o.order_id as orderId,
		    o.order_quantity as orderQuantity,
		    o.order_section as orderSection,
		    o.order_datetime as orderDateTime,
		    o.order_status as orderStatus,
			o.request_id as requestId,
		    e.event_name as eventName,
		    e.event_performer as eventPerformer,
		    e.event_date as eventDate,
		    e.event_time as eventTime,
		    e.event_location as eventLocation,

		    t.ticket_price as ticketPrice,

			c.pic_event_ticket as picEventTicket,

		    h.host_name as hostName,

    GROUP_CONCAT(p.pool_number) as poolNumbers

	FROM users u
	JOIN orders o ON o.user_id = u.user_id
	JOIN event e ON o.event_id = e.event_id
	JOIN host h ON e.host_id = h.host_id
	JOIN ticket t ON t.ticket_name = o.order_section AND t.event_id = o.event_id
	join pic c on c.pic_id=e.event_id
	LEFT JOIN pool p ON o.order_id = p.order_id
	WHERE u.user_id = ?
	GROUP BY
			    o.order_id,
			    o.order_quantity,
			    o.order_section,
			    o.order_datetime,
			    o.order_status,
			    o.request_id ,
			    e.event_name,
			    e.event_performer,
			    e.event_date,
			    e.event_time,
			    e.event_location,
			    t.ticket_price,
			    p.pic_event_ticket,
			    h.host_name
	ORDER BY o.order_datetime DESC]
堆疊追蹤:

java.lang.RuntimeException: 找不到用戶 ID:10 的訂單詳細資訊PreparedStatementCallback; bad SQL grammar [SELECT
		    o.order_id as orderId,
		    o.order_quantity as orderQuantity,
		    o.order_section as orderSection,
		    o.order_datetime as orderDateTime,
		    o.order_status as orderStatus,
			o.request_id as requestId,
		    e.event_name as eventName,
		    e.event_performer as eventPerformer,
		    e.event_date as eventDate,
		    e.event_time as eventTime,
		    e.event_location as eventLocation,

		    t.ticket_price as ticketPrice,

			c.pic_event_ticket as picEventTicket,

		    h.host_name as hostName,

    GROUP_CONCAT(p.pool_number) as poolNumbers

	FROM users u
	JOIN orders o ON o.user_id = u.user_id
	JOIN event e ON o.event_id = e.event_id
	JOIN host h ON e.host_id = h.host_id
	JOIN ticket t ON t.ticket_name = o.order_section AND t.event_id = o.event_id
	join pic c on c.pic_id=e.event_id
	LEFT JOIN pool p ON o.order_id = p.order_id
	WHERE u.user_id = ?
	GROUP BY
			    o.order_id,
			    o.order_quantity,
			    o.order_section,
			    o.order_datetime,
			    o.order_status,
			    o.request_id ,
			    e.event_name,
			    e.event_performer,
			    e.event_date,
			    e.event_time,
			    e.event_location,
			    t.ticket_price,
			    p.pic_event_ticket,
			    h.host_name
	ORDER BY o.order_datetime DESC]
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.service.order.OrderServiceImpl$$SpringCGLIB$$0.getAllUserOrder(<generated>)
	at com.example.demo.controller.UserController.getUserOrder(UserController.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-09 10:58:57.033 [RMI TCP Connection(13)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-09 10:58:57.063 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-09 10:58:57.068 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-09 10:58:59.760 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 14252 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-09 10:58:59.761 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-09 10:59:01.134 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-09 10:59:01.137 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-09 10:59:01.137 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-09 10:59:01.265 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-09 10:59:01.269 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-09 10:59:01.736 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-09 10:59:01.829 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5f1c406e
2024-12-09 10:59:01.830 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-09 10:59:03.119 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-09 10:59:03.295 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:59:03.298 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:59:03.837 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 558c22ce-19a8-4904-8b4d-71f20dca0e45

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-09 10:59:04.766 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-09 10:59:04.842 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.377 seconds (process running for 5.74)
2024-12-09 10:59:05.338 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-09 10:59:22.966 [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-09 10:59:22.991 [RMI TCP Connection(2)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-09 10:59:22.995 [RMI TCP Connection(2)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-09 10:59:25.714 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 13948 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-09 10:59:25.716 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-09 10:59:27.077 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-09 10:59:27.079 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-09 10:59:27.080 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-09 10:59:27.198 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-09 10:59:27.201 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-09 10:59:27.680 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-09 10:59:27.776 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d5cbcc9
2024-12-09 10:59:27.777 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-09 10:59:29.059 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-09 10:59:29.234 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:59:29.237 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-09 10:59:29.776 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 46add856-94b6-4195-942b-442aa4536172

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-09 10:59:30.637 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-09 10:59:30.715 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.291 seconds (process running for 5.657)
2024-12-09 10:59:31.182 [RMI TCP Connection(7)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-09 10:59:55.360 [http-nio-8080-exec-7] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:4RRVZ
2024-12-09 10:59:55.363 [http-nio-8080-exec-6] ERROR c.e.d.c.a.GlobalExceptionAspect -
				SalesServiceImpl中的getTicketSection方法發生錯誤: 使用者沒有認證，使用者ID:2使用者名字:admin
2024-12-09 10:59:55.364 [http-nio-8080-exec-6] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.controller.SalesController#getTicketSection(String, Integer)
請求方法: GET
請求路徑: /sales/goticket/area
請求參數: org.apache.catalina.util.ParameterMap@3898b73
異常類型: RuntimeException
錯誤訊息: 使用者沒有認證，使用者ID:2使用者名字:admin
堆疊追蹤:

java.lang.RuntimeException: 使用者沒有認證，使用者ID:2使用者名字:admin
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.service.sales.SalesServiceImpl$$SpringCGLIB$$0.getTicketSection(<generated>)
	at com.example.demo.controller.SalesController.getTicketSection(SalesController.java:153)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-09 11:00:04.251 [http-nio-8080-exec-2] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: ruka
2024-12-09 11:00:04.339 [http-nio-8080-exec-2] INFO  c.e.d.s.u.UserServiceImpl -
				用戶ruka登入成功
2024-12-09 11:00:04.339 [http-nio-8080-exec-2] INFO  c.e.d.c.a.LoginAspect -
				用戶: ruka 登入成功

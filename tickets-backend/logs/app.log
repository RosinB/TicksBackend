2024-12-10 09:16:29.347 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 16616 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 09:16:29.352 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 09:16:30.676 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 09:16:30.679 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 09:16:30.679 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 09:16:30.790 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 09:16:30.793 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 09:16:31.264 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 09:16:31.364 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7995a589
2024-12-10 09:16:31.366 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 09:16:32.653 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 09:16:32.848 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 09:16:32.851 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 09:16:33.424 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 111893ed-d172-41a6-9bf1-6ebcb7e488f7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 09:16:34.358 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 09:16:34.450 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.407 seconds (process running for 5.889)
2024-12-10 09:16:34.867 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 09:37:25.109 [RMI TCP Connection(32)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 09:37:25.138 [RMI TCP Connection(32)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 09:37:25.143 [RMI TCP Connection(32)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 09:37:27.788 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 8028 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 09:37:27.789 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 09:37:29.237 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 09:37:29.240 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 09:37:29.241 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 09:37:29.361 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 09:37:29.364 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 09:37:29.820 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 09:37:29.910 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5364b481
2024-12-10 09:37:29.911 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 09:37:31.155 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 09:37:31.333 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 09:37:31.336 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 09:37:31.888 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 7a79b8ed-0a52-4a91-87c2-77b9b11096d7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 09:37:32.743 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 09:37:32.825 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.339 seconds (process running for 5.689)
2024-12-10 09:37:33.421 [RMI TCP Connection(9)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 09:41:16.711 [http-nio-8080-exec-2] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: admin
2024-12-10 09:41:16.866 [http-nio-8080-exec-2] INFO  c.e.d.s.u.UserServiceImpl -
				用戶admin登入成功
2024-12-10 09:41:16.867 [http-nio-8080-exec-2] INFO  c.e.d.c.a.LoginAspect -
				用戶: admin 登入成功
2024-12-10 09:41:19.331 [http-nio-8080-exec-6] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.adminPanel.controller.AdminOrdersController#getOrderById(Integer)
請求方法: GET
請求路徑: /admin/orders/refund
請求參數: org.apache.catalina.util.ParameterMap@21501623
異常類型: MethodArgumentTypeMismatchException
錯誤訊息: Method parameter 'eventId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "refund"
堆疊追蹤:

org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'eventId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "refund"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:301)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:136)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:224)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:178)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.NumberFormatException: For input string: "refund"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:662)
	at java.base/java.lang.Integer.valueOf(Integer.java:989)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:203)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:439)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:412)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:161)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:80)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:862)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:293)
	... 118 common frames omitted
2024-12-10 09:47:05.596 [RMI TCP Connection(21)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 09:47:05.624 [RMI TCP Connection(21)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 09:47:05.628 [RMI TCP Connection(21)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 09:47:08.183 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 2972 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 09:47:08.184 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 09:47:09.609 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 09:47:09.612 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 09:47:09.612 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 09:47:09.730 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 09:47:09.733 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 09:47:10.265 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 09:47:10.363 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@65b69ccb
2024-12-10 09:47:10.365 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 09:47:11.757 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 09:47:11.944 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 09:47:11.947 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 09:47:12.531 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: e1627f15-3630-443c-a125-8b8341a1b59e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 09:47:13.410 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 09:47:13.489 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.618 seconds (process running for 6.044)
2024-12-10 09:47:13.810 [RMI TCP Connection(9)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 10:19:36.807 [RMI TCP Connection(44)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 10:19:36.827 [RMI TCP Connection(44)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 10:19:36.830 [RMI TCP Connection(44)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 10:19:39.938 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 5092 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 10:19:39.939 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 10:19:41.626 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 10:19:41.629 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 10:19:41.629 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 10:19:41.760 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 10:19:41.763 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 10:19:42.363 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 10:19:42.468 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@362e709e
2024-12-10 10:19:42.469 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 10:19:44.000 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 10:19:44.215 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 10:19:44.218 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 10:19:44.875 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 0b6eaeae-f7c1-496a-aa19-b2e6e0614917

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 10:19:45.831 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 10:19:45.916 [main] INFO  c.e.d.MainApp -
				Started MainApp in 6.335 seconds (process running for 6.808)
2024-12-10 10:19:46.078 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 11:18:43.136 [RMI TCP Connection(70)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 11:18:43.158 [RMI TCP Connection(70)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 11:18:43.160 [RMI TCP Connection(70)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 11:18:45.744 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 6904 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 11:18:45.745 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 11:18:45.907 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext -
				Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.example.demo.MainApp]
2024-12-10 11:18:45.975 [main] ERROR o.s.b.SpringApplication -
				Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.example.demo.MainApp]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:179)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:417)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:789)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:607)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.demo.MainApp.main(MainApp.java:11)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'refundService' for bean class [com.example.demo.service.common.RefundService] conflicts with existing, non-compatible bean definition of same name and class [com.example.demo.adminPanel.service.common.RefundService]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:361)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:288)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:306)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:246)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:197)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:165)
	... 13 common frames omitted
2024-12-10 11:42:30.617 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 10096 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 11:42:30.618 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 11:42:30.799 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext -
				Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.example.demo.MainApp]
2024-12-10 11:42:30.863 [main] ERROR o.s.b.SpringApplication -
				Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.example.demo.MainApp]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:179)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:417)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:789)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:607)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.demo.MainApp.main(MainApp.java:11)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'refundService' for bean class [com.example.demo.service.common.RefundService] conflicts with existing, non-compatible bean definition of same name and class [com.example.demo.adminPanel.service.common.RefundService]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:361)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:288)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:306)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:246)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:197)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:165)
	... 13 common frames omitted
2024-12-10 11:42:51.984 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 9144 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 11:42:51.985 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 11:42:52.125 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext -
				Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.example.demo.MainApp]
2024-12-10 11:42:52.201 [main] ERROR o.s.b.SpringApplication -
				Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.example.demo.MainApp]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:179)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:417)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:789)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:607)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.demo.MainApp.main(MainApp.java:11)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'refundService' for bean class [com.example.demo.service.common.RefundService] conflicts with existing, non-compatible bean definition of same name and class [com.example.demo.adminPanel.service.common.RefundService]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:361)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:288)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:306)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:246)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:197)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:165)
	... 13 common frames omitted
2024-12-10 11:47:07.737 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 6468 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 11:47:07.738 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 11:47:09.219 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 11:47:09.222 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 11:47:09.222 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 11:47:09.334 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 11:47:09.337 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 11:47:09.893 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 11:47:10.003 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6d5d1204
2024-12-10 11:47:10.005 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 11:47:11.497 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 11:47:11.705 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 11:47:11.708 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 11:47:12.308 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: d57acef4-0561-4f1e-a52c-0f0ec5e71932

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 11:47:13.210 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 11:47:13.296 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.863 seconds (process running for 6.339)
2024-12-10 11:47:13.895 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 11:47:20.440 [http-nio-8080-exec-2] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 1
2024-12-10 11:47:20.442 [http-nio-8080-exec-2] WARN  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新失敗，影響筆數: 0
2024-12-10 11:47:20.442 [http-nio-8080-exec-2] ERROR c.e.d.u.DatabaseUtils -
				Operation ' updateRefundBySuccess ' failed: 退票成功更新失敗(By orders Table)
java.lang.RuntimeException: 更新失敗(筆數為0): 退票成功更新失敗(By orders Table)
	at com.example.demo.util.DatabaseUtils.executeUpdate(DatabaseUtils.java:38)
	at com.example.demo.adminPanel.repository.orders.AdOrdersJDBCImpl.updateRefundBySuccess(AdOrdersJDBCImpl.java:193)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.repository.orders.AdOrdersJDBCImpl$$SpringCGLIB$$0.updateRefundBySuccess(<generated>)
	at com.example.demo.adminPanel.service.common.AdRefundService.successRefundOrder(AdRefundService.java:27)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:26)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.common.AdRefundService$$SpringCGLIB$$0.successRefundOrder(<generated>)
	at com.example.demo.adminPanel.service.orders.AdOrderServiceImpl.successRefund(AdOrderServiceImpl.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:26)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.orders.AdOrderServiceImpl$$SpringCGLIB$$0.successRefund(<generated>)
	at com.example.demo.adminPanel.controller.AdminOrdersController.successRefund(AdminOrdersController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 11:47:20.448 [http-nio-8080-exec-2] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdRefundService中的successRefundOrder方法發生錯誤: 退票成功更新失敗(By orders Table)更新失敗(筆數為0): 退票成功更新失敗(By orders Table)
2024-12-10 11:47:20.448 [http-nio-8080-exec-2] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdOrderServiceImpl中的successRefund方法發生錯誤: 退票成功更新失敗(By orders Table)更新失敗(筆數為0): 退票成功更新失敗(By orders Table)
2024-12-10 11:47:20.450 [http-nio-8080-exec-2] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.adminPanel.controller.AdminOrdersController#successRefund(Integer)
請求方法: POST
請求路徑: /admin/orders/success/1
請求參數: org.apache.catalina.util.ParameterMap@5481aff6
異常類型: RuntimeException
錯誤訊息: 退票成功更新失敗(By orders Table)更新失敗(筆數為0): 退票成功更新失敗(By orders Table)
堆疊追蹤:

java.lang.RuntimeException: 退票成功更新失敗(By orders Table)更新失敗(筆數為0): 退票成功更新失敗(By orders Table)
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.orders.AdOrderServiceImpl$$SpringCGLIB$$0.successRefund(<generated>)
	at com.example.demo.adminPanel.controller.AdminOrdersController.successRefund(AdminOrdersController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 11:50:01.072 [http-nio-8080-exec-9] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: ruka
2024-12-10 11:50:01.239 [http-nio-8080-exec-9] INFO  c.e.d.s.u.UserServiceImpl -
				用戶ruka登入成功
2024-12-10 11:50:01.240 [http-nio-8080-exec-9] INFO  c.e.d.c.a.LoginAspect -
				用戶: ruka 登入成功
2024-12-10 11:50:05.740 [http-nio-8080-exec-7] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:2SYWH
2024-12-10 11:50:15.226 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 2996
2024-12-10 11:50:15.227 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 2995
2024-12-10 11:50:15.227 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：2995，RequestID: 9eb47747-9648-4e8d-b6d9-770b04c7d8ce
2024-12-10 11:50:15.238 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 11:50:15.249 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63346, eventId=2, section=A區, quantity=1
2024-12-10 11:50:15.253 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 11:50:15.255 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=2, Section=A區, Quantity=1, RequestId=9eb47747-9648-4e8d-b6d9-770b04c7d8ce
2024-12-10 11:50:15.257 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-1
2024-12-10 11:50:16.223 [http-nio-8080-exec-5] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63346, orderStatus=付款中)
2024-12-10 11:50:16.242 [http-nio-8080-exec-6] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63346, 用戶名: ruka, 請求ID: {}
2024-12-10 11:50:18.987 [http-nio-8080-exec-7] INFO  c.e.d.u.DatabaseUtils -
				updateOrderStatus更新成功，影響筆數: 1
2024-12-10 11:50:19.833 [http-nio-8080-exec-10] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63346, 用戶名: ruka, 請求ID: {}
2024-12-10 11:50:37.701 [http-nio-8080-exec-7] INFO  c.e.d.s.c.RefundService -
				重複退票請求:63346
2024-12-10 11:50:37.701 [http-nio-8080-exec-7] ERROR c.e.d.c.a.GlobalExceptionAspect -
				RefundService中的handleRefund方法發生錯誤: 重複退票請求
2024-12-10 11:50:37.701 [http-nio-8080-exec-7] ERROR c.e.d.c.a.GlobalExceptionAspect -
				OrderServiceImpl中的refundTicketForm方法發生錯誤: 重複退票請求
2024-12-10 11:50:37.701 [http-nio-8080-exec-7] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.controller.UserController#reundForm(RefundOrder)
請求方法: POST
請求路徑: /user/order/refund/form
請求參數: org.apache.catalina.util.ParameterMap@56aff773
異常類型: RuntimeException
錯誤訊息: 重複退票請求
堆疊追蹤:

java.lang.RuntimeException: 重複退票請求
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.service.order.OrderServiceImpl$$SpringCGLIB$$0.refundTicketForm(<generated>)
	at com.example.demo.controller.UserController.reundForm(UserController.java:197)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 11:52:55.760 [http-nio-8080-exec-5] INFO  c.e.d.s.c.RefundService -
				重複退票請求:63346
2024-12-10 11:52:55.760 [http-nio-8080-exec-5] ERROR c.e.d.c.a.GlobalExceptionAspect -
				RefundService中的handleRefund方法發生錯誤: 重複退票請求
2024-12-10 11:52:55.760 [http-nio-8080-exec-5] ERROR c.e.d.c.a.GlobalExceptionAspect -
				OrderServiceImpl中的refundTicketForm方法發生錯誤: 重複退票請求
2024-12-10 11:52:55.760 [http-nio-8080-exec-5] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.controller.UserController#reundForm(RefundOrder)
請求方法: POST
請求路徑: /user/order/refund/form
請求參數: org.apache.catalina.util.ParameterMap@cd7bb8c
異常類型: RuntimeException
錯誤訊息: 重複退票請求
堆疊追蹤:

java.lang.RuntimeException: 重複退票請求
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.service.order.OrderServiceImpl$$SpringCGLIB$$0.refundTicketForm(<generated>)
	at com.example.demo.controller.UserController.reundForm(UserController.java:197)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 11:54:22.693 [RMI TCP Connection(18)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 11:54:22.720 [RMI TCP Connection(18)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 11:54:22.725 [RMI TCP Connection(18)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 11:54:25.307 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 892 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 11:54:25.308 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 11:54:26.772 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 11:54:26.774 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 11:54:26.775 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 11:54:26.896 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 11:54:26.899 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 11:54:27.439 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 11:54:27.539 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d5cbcc9
2024-12-10 11:54:27.540 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 11:54:28.928 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 11:54:29.125 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 11:54:29.128 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 11:54:29.727 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 1dd7818f-6311-475d-a82c-1857906d35ae

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 11:54:30.593 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 11:54:30.670 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.668 seconds (process running for 6.105)
2024-12-10 11:54:30.851 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 11:54:39.306 [http-nio-8080-exec-1] INFO  c.e.d.u.DatabaseUtils -
				addRefundSubmit更新成功，影響筆數: 1
2024-12-10 11:55:05.833 [http-nio-8080-exec-5] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: admin
2024-12-10 11:55:05.974 [http-nio-8080-exec-5] INFO  c.e.d.s.u.UserServiceImpl -
				用戶admin登入成功
2024-12-10 11:55:05.974 [http-nio-8080-exec-5] INFO  c.e.d.c.a.LoginAspect -
				用戶: admin 登入成功
2024-12-10 11:55:13.248 [http-nio-8080-exec-1] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 1
2024-12-10 11:55:13.248 [http-nio-8080-exec-1] WARN  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新失敗，影響筆數: 0
2024-12-10 11:55:13.249 [http-nio-8080-exec-1] ERROR c.e.d.u.DatabaseUtils -
				Operation ' updateRefundBySuccess ' failed: 退票成功更新失敗(By orders Table)
java.lang.RuntimeException: 更新失敗(筆數為0): 退票成功更新失敗(By orders Table)
	at com.example.demo.util.DatabaseUtils.executeUpdate(DatabaseUtils.java:38)
	at com.example.demo.adminPanel.repository.orders.AdOrdersJDBCImpl.updateRefundBySuccess(AdOrdersJDBCImpl.java:193)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.repository.orders.AdOrdersJDBCImpl$$SpringCGLIB$$0.updateRefundBySuccess(<generated>)
	at com.example.demo.adminPanel.service.common.AdRefundService.successRefundOrder(AdRefundService.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:26)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.common.AdRefundService$$SpringCGLIB$$0.successRefundOrder(<generated>)
	at com.example.demo.adminPanel.service.orders.AdOrderServiceImpl.successRefund(AdOrderServiceImpl.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:26)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.orders.AdOrderServiceImpl$$SpringCGLIB$$0.successRefund(<generated>)
	at com.example.demo.adminPanel.controller.AdminOrdersController.successRefund(AdminOrdersController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 11:55:13.253 [http-nio-8080-exec-1] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdRefundService中的successRefundOrder方法發生錯誤: 退票成功更新失敗(By orders Table)更新失敗(筆數為0): 退票成功更新失敗(By orders Table)
2024-12-10 11:55:13.257 [http-nio-8080-exec-1] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdOrderServiceImpl中的successRefund方法發生錯誤: 退票成功更新失敗(By orders Table)更新失敗(筆數為0): 退票成功更新失敗(By orders Table)
2024-12-10 11:55:13.259 [http-nio-8080-exec-1] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.adminPanel.controller.AdminOrdersController#successRefund(Integer)
請求方法: POST
請求路徑: /admin/orders/success/2
請求參數: org.apache.catalina.util.ParameterMap@146d06c8
異常類型: RuntimeException
錯誤訊息: 退票成功更新失敗(By orders Table)更新失敗(筆數為0): 退票成功更新失敗(By orders Table)
堆疊追蹤:

java.lang.RuntimeException: 退票成功更新失敗(By orders Table)更新失敗(筆數為0): 退票成功更新失敗(By orders Table)
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.orders.AdOrderServiceImpl$$SpringCGLIB$$0.successRefund(<generated>)
	at com.example.demo.adminPanel.controller.AdminOrdersController.successRefund(AdminOrdersController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 11:57:42.373 [RMI TCP Connection(14)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 11:57:42.398 [RMI TCP Connection(14)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 11:57:42.403 [RMI TCP Connection(14)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 11:57:44.855 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 3632 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 11:57:44.856 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 11:57:46.200 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 11:57:46.202 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 11:57:46.203 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 11:57:46.322 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 11:57:46.325 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 11:57:46.766 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 11:57:46.856 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@49ea4b65
2024-12-10 11:57:46.858 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 11:57:48.121 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 11:57:48.305 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 11:57:48.308 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 11:57:48.854 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 901cf439-5faa-4941-b36b-b8bd0a866e86

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 11:57:49.715 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 11:57:49.790 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.215 seconds (process running for 5.563)
2024-12-10 11:57:50.380 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 11:58:14.111 [http-nio-8080-exec-1] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 1
2024-12-10 11:58:14.112 [http-nio-8080-exec-1] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 1
2024-12-10 11:58:14.116 [http-nio-8080-exec-1] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 2
2024-12-10 11:58:14.117 [http-nio-8080-exec-1] INFO  c.e.d.a.s.c.AdRefundService -
				(通過)退票訂單更新成功:2
2024-12-10 12:00:44.495 [http-nio-8080-exec-1] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: ruka
2024-12-10 12:00:44.643 [http-nio-8080-exec-1] INFO  c.e.d.s.u.UserServiceImpl -
				用戶ruka登入成功
2024-12-10 12:00:44.643 [http-nio-8080-exec-1] INFO  c.e.d.c.a.LoginAspect -
				用戶: ruka 登入成功
2024-12-10 12:00:50.938 [http-nio-8080-exec-3] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:8RE7V
2024-12-10 12:00:51.825 [http-nio-8080-exec-8] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:XYZHD
2024-12-10 12:01:00.552 [http-nio-8080-exec-5] INFO  c.e.d.s.c.SeatService -
				座位號: 12
2024-12-10 12:01:00.554 [http-nio-8080-exec-5] INFO  c.e.d.u.DatabaseUtils -
				updateTicketOrderSeat更新成功，影響筆數: 1
2024-12-10 12:01:00.554 [http-nio-8080-exec-5] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				訂單新增成功:參數: orderId=63347, eventId=1, section=A區, poolNumber=12
2024-12-10 12:01:00.556 [http-nio-8080-exec-5] INFO  c.e.d.s.c.SeatService -
				座位號: 13
2024-12-10 12:01:00.556 [http-nio-8080-exec-5] INFO  c.e.d.u.DatabaseUtils -
				updateTicketOrderSeat更新成功，影響筆數: 1
2024-12-10 12:01:00.556 [http-nio-8080-exec-5] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				訂單新增成功:參數: orderId=63347, eventId=1, section=A區, poolNumber=13
2024-12-10 12:01:00.574 [http-nio-8080-exec-7] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63347, orderStatus=付款中)
2024-12-10 12:01:00.591 [http-nio-8080-exec-9] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63347, 用戶名: ruka, 請求ID: {}
2024-12-10 12:01:07.966 [http-nio-8080-exec-1] INFO  c.e.d.u.DatabaseUtils -
				updateOrderStatus更新成功，影響筆數: 1
2024-12-10 12:01:08.812 [http-nio-8080-exec-4] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63347, 用戶名: ruka, 請求ID: {}
2024-12-10 12:01:25.233 [http-nio-8080-exec-8] INFO  c.e.d.u.DatabaseUtils -
				addRefundSubmit更新成功，影響筆數: 1
2024-12-10 12:01:45.288 [http-nio-8080-exec-5] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: admin
2024-12-10 12:01:45.358 [http-nio-8080-exec-5] INFO  c.e.d.s.u.UserServiceImpl -
				用戶admin登入成功
2024-12-10 12:01:45.358 [http-nio-8080-exec-5] INFO  c.e.d.c.a.LoginAspect -
				用戶: admin 登入成功
2024-12-10 12:01:51.249 [http-nio-8080-exec-3] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: ruka
2024-12-10 12:01:51.319 [http-nio-8080-exec-3] INFO  c.e.d.s.u.UserServiceImpl -
				用戶ruka登入成功
2024-12-10 12:01:51.319 [http-nio-8080-exec-3] INFO  c.e.d.c.a.LoginAspect -
				用戶: ruka 登入成功
2024-12-10 12:02:08.355 [http-nio-8080-exec-4] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 1
2024-12-10 12:02:08.356 [http-nio-8080-exec-4] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 1
2024-12-10 12:02:08.359 [http-nio-8080-exec-4] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 2
2024-12-10 12:02:08.359 [http-nio-8080-exec-4] INFO  c.e.d.a.s.c.AdRefundService -
				(通過)退票訂單更新成功:3
2024-12-10 12:03:05.918 [http-nio-8080-exec-8] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:Y727B
2024-12-10 12:03:13.000 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1492
2024-12-10 12:03:13.001 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1491
2024-12-10 12:03:13.001 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1491，RequestID: 7139d61a-1f51-428a-af95-57657fabdcd8
2024-12-10 12:03:13.008 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 12:03:13.013 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63348, eventId=1, section=A區, quantity=1
2024-12-10 12:03:13.015 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 12:03:13.016 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=7139d61a-1f51-428a-af95-57657fabdcd8
2024-12-10 12:03:13.017 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-1
2024-12-10 12:03:14.025 [http-nio-8080-exec-7] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63348, orderStatus=付款中)
2024-12-10 12:03:14.042 [http-nio-8080-exec-9] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63348, 用戶名: ruka, 請求ID: {}
2024-12-10 12:03:15.469 [http-nio-8080-exec-8] INFO  c.e.d.u.DatabaseUtils -
				updateOrderStatus更新成功，影響筆數: 1
2024-12-10 12:03:16.171 [http-nio-8080-exec-2] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63348, 用戶名: ruka, 請求ID: {}
2024-12-10 12:03:25.245 [http-nio-8080-exec-3] INFO  c.e.d.u.DatabaseUtils -
				addRefundSubmit更新成功，影響筆數: 1
2024-12-10 12:03:58.280 [http-nio-8080-exec-7] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: admin
2024-12-10 12:03:58.350 [http-nio-8080-exec-7] INFO  c.e.d.s.u.UserServiceImpl -
				用戶admin登入成功
2024-12-10 12:03:58.351 [http-nio-8080-exec-7] INFO  c.e.d.c.a.LoginAspect -
				用戶: admin 登入成功
2024-12-10 12:04:08.482 [http-nio-8080-exec-1] ERROR c.e.d.u.DatabaseUtils -
				退票駁回更新失敗：PreparedStatementCallback; bad SQL grammar [update from refund
set    refund_status='退票駁回'
where refund_id = ?]
2024-12-10 12:04:08.484 [http-nio-8080-exec-1] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdRefundService中的RejectRefundOrder方法發生錯誤: 退票駁回更新失敗PreparedStatementCallback; bad SQL grammar [update from refund
set    refund_status='退票駁回'
where refund_id = ?]
2024-12-10 12:04:08.484 [http-nio-8080-exec-1] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdOrderServiceImpl中的rejectRefund方法發生錯誤: 退票駁回更新失敗PreparedStatementCallback; bad SQL grammar [update from refund
set    refund_status='退票駁回'
where refund_id = ?]
2024-12-10 12:04:08.491 [http-nio-8080-exec-1] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.adminPanel.controller.AdminOrdersController#rejectRefund(Integer)
請求方法: POST
請求路徑: /admin/orders/reject/4
請求參數: org.apache.catalina.util.ParameterMap@28e58293
異常類型: RuntimeException
錯誤訊息: 退票駁回更新失敗PreparedStatementCallback; bad SQL grammar [update from refund
set    refund_status='退票駁回'
where refund_id = ?]
堆疊追蹤:

java.lang.RuntimeException: 退票駁回更新失敗PreparedStatementCallback; bad SQL grammar [update from refund
set    refund_status='退票駁回'
where refund_id = ?]
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.orders.AdOrderServiceImpl$$SpringCGLIB$$0.rejectRefund(<generated>)
	at com.example.demo.adminPanel.controller.AdminOrdersController.rejectRefund(AdminOrdersController.java:51)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 12:04:40.817 [RMI TCP Connection(18)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 12:04:40.843 [RMI TCP Connection(18)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 12:04:40.847 [RMI TCP Connection(18)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 12:04:43.434 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 18352 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 12:04:43.435 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 12:04:44.778 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 12:04:44.781 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 12:04:44.781 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 12:04:44.895 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 12:04:44.906 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 12:04:45.353 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 12:04:45.454 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@eea0b48
2024-12-10 12:04:45.456 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 12:04:46.713 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 12:04:46.887 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:04:46.890 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:04:47.427 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 9e3b3da5-7e9a-404f-9d17-5963016a733c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 12:04:48.274 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 12:04:48.350 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.199 seconds (process running for 5.552)
2024-12-10 12:04:48.579 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 12:04:57.038 [http-nio-8080-exec-2] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundByReject 更新成功，影響筆數: 1
2024-12-10 12:04:57.038 [http-nio-8080-exec-2] INFO  c.e.d.a.s.c.AdRefundService -
				(駁回)退票訂單更新成功:4
2024-12-10 12:08:29.386 [http-nio-8080-exec-7] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: ruka
2024-12-10 12:08:29.524 [http-nio-8080-exec-7] INFO  c.e.d.s.u.UserServiceImpl -
				用戶ruka登入成功
2024-12-10 12:08:29.524 [http-nio-8080-exec-7] INFO  c.e.d.c.a.LoginAspect -
				用戶: ruka 登入成功
2024-12-10 12:08:49.075 [http-nio-8080-exec-1] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: admin
2024-12-10 12:08:49.146 [http-nio-8080-exec-1] INFO  c.e.d.s.u.UserServiceImpl -
				用戶admin登入成功
2024-12-10 12:08:49.146 [http-nio-8080-exec-1] INFO  c.e.d.c.a.LoginAspect -
				用戶: admin 登入成功
2024-12-10 12:09:33.674 [http-nio-8080-exec-9] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: ruka
2024-12-10 12:09:33.748 [http-nio-8080-exec-9] INFO  c.e.d.s.u.UserServiceImpl -
				用戶ruka登入成功
2024-12-10 12:09:33.749 [http-nio-8080-exec-9] INFO  c.e.d.c.a.LoginAspect -
				用戶: ruka 登入成功
2024-12-10 12:09:42.658 [http-nio-8080-exec-2] INFO  c.e.d.c.a.LoginAspect -
				用戶登入嘗試: admin
2024-12-10 12:09:42.729 [http-nio-8080-exec-2] INFO  c.e.d.s.u.UserServiceImpl -
				用戶admin登入成功
2024-12-10 12:09:42.729 [http-nio-8080-exec-2] INFO  c.e.d.c.a.LoginAspect -
				用戶: admin 登入成功
2024-12-10 12:12:14.658 [http-nio-8080-exec-4] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:CL4Z5
2024-12-10 12:12:21.540 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1491
2024-12-10 12:12:21.542 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1489
2024-12-10 12:12:21.542 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1489，RequestID: 50e2e71a-162f-4946-b745-e03b4c2063cc
2024-12-10 12:12:21.550 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 12:12:21.560 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63349, eventId=1, section=A區, quantity=2
2024-12-10 12:12:21.563 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 2
2024-12-10 12:12:21.565 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=2, RequestId=50e2e71a-162f-4946-b745-e03b4c2063cc
2024-12-10 12:12:21.567 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-2
2024-12-10 12:12:22.554 [http-nio-8080-exec-8] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63349, orderStatus=付款中)
2024-12-10 12:12:22.573 [http-nio-8080-exec-10] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63349, 用戶名: ruka, 請求ID: {}
2024-12-10 12:12:24.007 [http-nio-8080-exec-2] INFO  c.e.d.u.DatabaseUtils -
				updateOrderStatus更新成功，影響筆數: 1
2024-12-10 12:12:24.838 [http-nio-8080-exec-4] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63349, 用戶名: ruka, 請求ID: {}
2024-12-10 12:12:46.498 [http-nio-8080-exec-9] INFO  c.e.d.u.DatabaseUtils -
				addRefundSubmit更新成功，影響筆數: 1
2024-12-10 12:22:08.312 [RMI TCP Connection(30)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 12:22:08.332 [RMI TCP Connection(30)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 12:22:08.336 [RMI TCP Connection(30)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 12:22:10.874 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 16496 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 12:22:10.875 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 12:22:12.369 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 12:22:12.372 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 12:22:12.372 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 12:22:12.500 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 12:22:12.504 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 12:22:13.003 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 12:22:13.103 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@49ea4b65
2024-12-10 12:22:13.105 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 12:22:14.503 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 12:22:14.713 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:22:14.717 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:22:15.328 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: b2b1f3d3-30a8-4a3e-bc1c-53080ded4671

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 12:22:16.358 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 12:22:16.441 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.874 seconds (process running for 6.256)
2024-12-10 12:22:16.576 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 12:22:40.267 [http-nio-8080-exec-8] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:XKS44
2024-12-10 12:22:45.540 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1489
2024-12-10 12:22:45.542 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1488
2024-12-10 12:22:45.542 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1488，RequestID: 46ebf568-53fd-4048-bf38-8b2ae2907f91
2024-12-10 12:22:45.550 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 12:22:45.557 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63350, eventId=1, section=A區, quantity=1
2024-12-10 12:22:45.560 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 12:22:45.561 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=46ebf568-53fd-4048-bf38-8b2ae2907f91
2024-12-10 12:22:45.564 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-3
2024-12-10 12:22:46.550 [http-nio-8080-exec-3] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63350, orderStatus=付款中)
2024-12-10 12:22:46.569 [http-nio-8080-exec-5] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63350, 用戶名: ruka, 請求ID: {}
2024-12-10 12:22:48.078 [http-nio-8080-exec-7] INFO  c.e.d.u.DatabaseUtils -
				updateOrderStatus更新成功，影響筆數: 1
2024-12-10 12:22:48.731 [http-nio-8080-exec-9] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63350, 用戶名: ruka, 請求ID: {}
2024-12-10 12:22:57.822 [http-nio-8080-exec-4] INFO  c.e.d.u.DatabaseUtils -
				addRefundSubmit更新成功，影響筆數: 1
2024-12-10 12:22:57.823 [http-nio-8080-exec-4] INFO  c.e.d.u.DatabaseUtils -
				updateRefundByOrderStatus更新成功，影響筆數: 1
2024-12-10 12:22:57.823 [http-nio-8080-exec-4] INFO  c.e.d.s.c.RefundService -
				退票訂單發送成功:ruka
2024-12-10 12:23:20.557 [http-nio-8080-exec-8] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundByReject 更新成功，影響筆數: 1
2024-12-10 12:23:20.560 [http-nio-8080-exec-8] ERROR c.e.d.u.DatabaseUtils -
				退票駁回更新失敗(orders table)：PreparedStatementCallback; SQL [update orders o
join refund r on r.order_id=o.order_id
set orders='退票失敗'
where o.order_id]; Parameter index out of range (1 > number of parameters, which is 0).
2024-12-10 12:23:20.562 [http-nio-8080-exec-8] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdRefundService中的RejectRefundOrder方法發生錯誤: 退票駁回更新失敗(orders table)PreparedStatementCallback; SQL [update orders o
join refund r on r.order_id=o.order_id
set orders='退票失敗'
where o.order_id]; Parameter index out of range (1 > number of parameters, which is 0).
2024-12-10 12:23:20.564 [http-nio-8080-exec-8] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdOrderServiceImpl中的rejectRefund方法發生錯誤: 退票駁回更新失敗(orders table)PreparedStatementCallback; SQL [update orders o
join refund r on r.order_id=o.order_id
set orders='退票失敗'
where o.order_id]; Parameter index out of range (1 > number of parameters, which is 0).
2024-12-10 12:23:20.565 [http-nio-8080-exec-8] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.adminPanel.controller.AdminOrdersController#rejectRefund(Integer)
請求方法: POST
請求路徑: /admin/orders/reject/6
請求參數: org.apache.catalina.util.ParameterMap@141a2fa5
異常類型: RuntimeException
錯誤訊息: 退票駁回更新失敗(orders table)PreparedStatementCallback; SQL [update orders o
join refund r on r.order_id=o.order_id
set orders='退票失敗'
where o.order_id]; Parameter index out of range (1 > number of parameters, which is 0).
堆疊追蹤:

java.lang.RuntimeException: 退票駁回更新失敗(orders table)PreparedStatementCallback; SQL [update orders o
join refund r on r.order_id=o.order_id
set orders='退票失敗'
where o.order_id]; Parameter index out of range (1 > number of parameters, which is 0).
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.orders.AdOrderServiceImpl$$SpringCGLIB$$0.rejectRefund(<generated>)
	at com.example.demo.adminPanel.controller.AdminOrdersController.rejectRefund(AdminOrdersController.java:51)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 12:24:17.386 [RMI TCP Connection(12)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 12:24:17.412 [RMI TCP Connection(12)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 12:24:17.417 [RMI TCP Connection(12)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 12:24:19.857 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 12160 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 12:24:19.858 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 12:24:21.193 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 12:24:21.196 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 12:24:21.196 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 12:24:21.315 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 12:24:21.318 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 12:24:21.757 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 12:24:21.850 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5feb8e9a
2024-12-10 12:24:21.851 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 12:24:23.106 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 12:24:23.280 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:24:23.283 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:24:23.849 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 16493d23-9755-4fb8-8608-ff06616cb0ac

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 12:24:24.714 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 12:24:24.792 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.213 seconds (process running for 5.562)
2024-12-10 12:24:24.951 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 12:24:35.111 [http-nio-8080-exec-2] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundByReject 更新成功，影響筆數: 1
2024-12-10 12:24:35.115 [http-nio-8080-exec-2] ERROR c.e.d.u.DatabaseUtils -
				退票駁回更新失敗(orders table)：PreparedStatementCallback; SQL [update orders o
join refund r on r.order_id=o.order_id
set o.order_status='退票失敗'
where o.order_id]; Parameter index out of range (1 > number of parameters, which is 0).
2024-12-10 12:24:35.118 [http-nio-8080-exec-2] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdRefundService中的RejectRefundOrder方法發生錯誤: 退票駁回更新失敗(orders table)PreparedStatementCallback; SQL [update orders o
join refund r on r.order_id=o.order_id
set o.order_status='退票失敗'
where o.order_id]; Parameter index out of range (1 > number of parameters, which is 0).
2024-12-10 12:24:35.119 [http-nio-8080-exec-2] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdOrderServiceImpl中的rejectRefund方法發生錯誤: 退票駁回更新失敗(orders table)PreparedStatementCallback; SQL [update orders o
join refund r on r.order_id=o.order_id
set o.order_status='退票失敗'
where o.order_id]; Parameter index out of range (1 > number of parameters, which is 0).
2024-12-10 12:24:35.121 [http-nio-8080-exec-2] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.adminPanel.controller.AdminOrdersController#rejectRefund(Integer)
請求方法: POST
請求路徑: /admin/orders/reject/6
請求參數: org.apache.catalina.util.ParameterMap@469db32e
異常類型: RuntimeException
錯誤訊息: 退票駁回更新失敗(orders table)PreparedStatementCallback; SQL [update orders o
join refund r on r.order_id=o.order_id
set o.order_status='退票失敗'
where o.order_id]; Parameter index out of range (1 > number of parameters, which is 0).
堆疊追蹤:

java.lang.RuntimeException: 退票駁回更新失敗(orders table)PreparedStatementCallback; SQL [update orders o
join refund r on r.order_id=o.order_id
set o.order_status='退票失敗'
where o.order_id]; Parameter index out of range (1 > number of parameters, which is 0).
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.orders.AdOrderServiceImpl$$SpringCGLIB$$0.rejectRefund(<generated>)
	at com.example.demo.adminPanel.controller.AdminOrdersController.rejectRefund(AdminOrdersController.java:51)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 12:25:36.462 [RMI TCP Connection(13)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 12:25:36.491 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 12:25:36.497 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 12:25:39.017 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 12552 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 12:25:39.018 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 12:25:40.345 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 12:25:40.348 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 12:25:40.348 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 12:25:40.466 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 12:25:40.469 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 12:25:40.914 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 12:25:41.002 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1784a296
2024-12-10 12:25:41.004 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 12:25:42.233 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 12:25:42.407 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:25:42.410 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:25:42.945 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: e9be75c3-cd9c-4706-a468-1abf3b368b4d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 12:25:43.793 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 12:25:43.874 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.135 seconds (process running for 5.481)
2024-12-10 12:25:44.122 [RMI TCP Connection(6)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 12:25:56.444 [http-nio-8080-exec-1] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundByReject 更新成功，影響筆數: 1
2024-12-10 12:25:56.445 [http-nio-8080-exec-1] WARN  c.e.d.u.DatabaseUtils -
				 updateRefundByReject 更新失敗，影響筆數: 0
2024-12-10 12:25:56.446 [http-nio-8080-exec-1] ERROR c.e.d.u.DatabaseUtils -
				Operation ' updateRefundByReject ' failed: 退票駁回更新失敗(orders table)
java.lang.RuntimeException: 更新失敗(筆數為0): 退票駁回更新失敗(orders table)
	at com.example.demo.util.DatabaseUtils.executeUpdate(DatabaseUtils.java:38)
	at com.example.demo.adminPanel.repository.orders.AdOrdersJDBCImpl.updateRefundByReject(AdOrdersJDBCImpl.java:190)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.repository.orders.AdOrdersJDBCImpl$$SpringCGLIB$$0.updateRefundByReject(<generated>)
	at com.example.demo.adminPanel.service.common.AdRefundService.RejectRefundOrder(AdRefundService.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:26)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.common.AdRefundService$$SpringCGLIB$$0.RejectRefundOrder(<generated>)
	at com.example.demo.adminPanel.service.orders.AdOrderServiceImpl.rejectRefund(AdOrderServiceImpl.java:41)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:26)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.orders.AdOrderServiceImpl$$SpringCGLIB$$0.rejectRefund(<generated>)
	at com.example.demo.adminPanel.controller.AdminOrdersController.rejectRefund(AdminOrdersController.java:51)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 12:25:56.451 [http-nio-8080-exec-1] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdRefundService中的RejectRefundOrder方法發生錯誤: 退票駁回更新失敗(orders table)更新失敗(筆數為0): 退票駁回更新失敗(orders table)
2024-12-10 12:25:56.455 [http-nio-8080-exec-1] ERROR c.e.d.c.a.GlobalExceptionAspect -
				AdOrderServiceImpl中的rejectRefund方法發生錯誤: 退票駁回更新失敗(orders table)更新失敗(筆數為0): 退票駁回更新失敗(orders table)
2024-12-10 12:25:56.457 [http-nio-8080-exec-1] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.adminPanel.controller.AdminOrdersController#rejectRefund(Integer)
請求方法: POST
請求路徑: /admin/orders/reject/6
請求參數: org.apache.catalina.util.ParameterMap@446d8f78
異常類型: RuntimeException
錯誤訊息: 退票駁回更新失敗(orders table)更新失敗(筆數為0): 退票駁回更新失敗(orders table)
堆疊追蹤:

java.lang.RuntimeException: 退票駁回更新失敗(orders table)更新失敗(筆數為0): 退票駁回更新失敗(orders table)
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.adminPanel.service.orders.AdOrderServiceImpl$$SpringCGLIB$$0.rejectRefund(<generated>)
	at com.example.demo.adminPanel.controller.AdminOrdersController.rejectRefund(AdminOrdersController.java:51)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 12:27:04.643 [RMI TCP Connection(13)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 12:27:04.669 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 12:27:04.673 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 12:27:07.197 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 17500 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 12:27:07.198 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 12:27:08.529 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 12:27:08.531 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 12:27:08.532 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 12:27:08.652 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 12:27:08.655 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 12:27:09.095 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 12:27:09.185 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@362e709e
2024-12-10 12:27:09.187 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 12:27:10.471 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 12:27:10.648 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:27:10.652 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:27:11.182 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: d6523f1d-3f86-4648-9a58-387eab30a142

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 12:27:12.041 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 12:27:12.118 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.2 seconds (process running for 5.55)
2024-12-10 12:27:12.398 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 12:27:19.471 [http-nio-8080-exec-1] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundByReject 更新成功，影響筆數: 1
2024-12-10 12:27:19.471 [http-nio-8080-exec-1] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundByReject 更新成功，影響筆數: 1
2024-12-10 12:27:19.472 [http-nio-8080-exec-1] INFO  c.e.d.a.s.c.AdRefundService -
				(駁回)退票訂單更新成功:6
2024-12-10 12:27:40.355 [http-nio-8080-exec-6] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 1
2024-12-10 12:27:40.355 [http-nio-8080-exec-6] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 1
2024-12-10 12:27:40.359 [http-nio-8080-exec-6] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 2
2024-12-10 12:27:40.360 [http-nio-8080-exec-6] INFO  c.e.d.a.s.c.AdRefundService -
				(通過)退票訂單更新成功:1
2024-12-10 12:27:43.223 [http-nio-8080-exec-8] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundByReject 更新成功，影響筆數: 1
2024-12-10 12:27:43.223 [http-nio-8080-exec-8] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundByReject 更新成功，影響筆數: 1
2024-12-10 12:27:43.224 [http-nio-8080-exec-8] INFO  c.e.d.a.s.c.AdRefundService -
				(駁回)退票訂單更新成功:5
2024-12-10 12:28:50.259 [http-nio-8080-exec-6] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:BEC6S
2024-12-10 12:29:00.318 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1488
2024-12-10 12:29:00.320 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1485
2024-12-10 12:29:00.321 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1485，RequestID: 61997163-38bf-43fe-818a-71c16c7c78cd
2024-12-10 12:29:00.326 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 12:29:00.332 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63351, eventId=1, section=A區, quantity=3
2024-12-10 12:29:00.334 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 3
2024-12-10 12:29:00.336 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=3, RequestId=61997163-38bf-43fe-818a-71c16c7c78cd
2024-12-10 12:29:00.337 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-4
2024-12-10 12:29:01.336 [http-nio-8080-exec-10] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63351, orderStatus=付款中)
2024-12-10 12:29:01.353 [http-nio-8080-exec-2] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63351, 用戶名: ruka, 請求ID: {}
2024-12-10 12:29:02.865 [http-nio-8080-exec-4] INFO  c.e.d.u.DatabaseUtils -
				updateOrderStatus更新成功，影響筆數: 1
2024-12-10 12:29:03.807 [http-nio-8080-exec-6] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63351, 用戶名: ruka, 請求ID: {}
2024-12-10 12:29:21.480 [http-nio-8080-exec-10] INFO  c.e.d.u.DatabaseUtils -
				addRefundSubmit更新成功，影響筆數: 1
2024-12-10 12:29:21.480 [http-nio-8080-exec-10] INFO  c.e.d.u.DatabaseUtils -
				updateRefundByOrderStatus更新成功，影響筆數: 1
2024-12-10 12:29:21.481 [http-nio-8080-exec-10] INFO  c.e.d.s.c.RefundService -
				退票訂單發送成功:ruka
2024-12-10 12:29:43.424 [http-nio-8080-exec-4] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 1
2024-12-10 12:29:43.424 [http-nio-8080-exec-4] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 1
2024-12-10 12:29:43.428 [http-nio-8080-exec-4] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 2
2024-12-10 12:29:43.428 [http-nio-8080-exec-4] INFO  c.e.d.a.s.c.AdRefundService -
				(通過)退票訂單更新成功:7
2024-12-10 12:36:17.983 [http-nio-8080-exec-3] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:3ED5G
2024-12-10 12:36:25.257 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1500
2024-12-10 12:36:25.259 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1498
2024-12-10 12:36:25.259 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1498，RequestID: 7dd98ef8-f519-4cbe-9a8b-c147160f21a5
2024-12-10 12:36:25.265 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 12:36:25.269 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63352, eventId=1, section=A區, quantity=2
2024-12-10 12:36:25.271 [http-nio-8080-exec-8] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63352, orderStatus=付款中)
2024-12-10 12:36:25.272 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 2
2024-12-10 12:36:25.274 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=2, RequestId=7dd98ef8-f519-4cbe-9a8b-c147160f21a5
2024-12-10 12:36:25.276 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-5
2024-12-10 12:36:25.290 [http-nio-8080-exec-10] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63352, 用戶名: ruka, 請求ID: {}
2024-12-10 12:36:41.761 [http-nio-8080-exec-2] INFO  c.e.d.u.DatabaseUtils -
				updateOrderStatus更新成功，影響筆數: 1
2024-12-10 12:36:43.501 [http-nio-8080-exec-5] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63352, 用戶名: ruka, 請求ID: {}
2024-12-10 12:36:46.423 [http-nio-8080-exec-7] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:S9J2Q
2024-12-10 12:36:56.729 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1498
2024-12-10 12:36:56.730 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1496
2024-12-10 12:36:56.731 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1496，RequestID: 7b2c19dd-8459-4968-bf65-67fd97b7a523
2024-12-10 12:36:56.736 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 12:36:56.739 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63353, eventId=1, section=A區, quantity=2
2024-12-10 12:36:56.740 [http-nio-8080-exec-1] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63353, orderStatus=付款中)
2024-12-10 12:36:56.742 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 2
2024-12-10 12:36:56.744 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=2, RequestId=7b2c19dd-8459-4968-bf65-67fd97b7a523
2024-12-10 12:36:56.745 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-6
2024-12-10 12:36:56.756 [http-nio-8080-exec-4] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63353, 用戶名: ruka, 請求ID: {}
2024-12-10 12:36:57.968 [http-nio-8080-exec-3] INFO  c.e.d.u.DatabaseUtils -
				updateCancelOrder更新成功，影響筆數: 1
2024-12-10 12:36:57.975 [http-nio-8080-exec-3] INFO  c.e.d.u.DatabaseUtils -
				updateCancelOrder更新成功，影響筆數: 2
2024-12-10 12:46:30.361 [RMI TCP Connection(31)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 12:46:30.379 [RMI TCP Connection(31)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 12:46:30.383 [RMI TCP Connection(31)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 12:46:32.652 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 13276 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 12:46:32.653 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 12:46:34.050 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 12:46:34.053 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 12:46:34.053 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 12:46:34.167 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 12:46:34.170 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 12:46:34.627 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 12:46:34.720 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4a9f0360
2024-12-10 12:46:34.721 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 12:46:36.020 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 12:46:36.190 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:46:36.194 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:46:36.724 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: ccdbb8f5-ce66-42cd-92f1-00644e4dd8b6

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 12:46:37.597 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 12:46:37.673 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.308 seconds (process running for 5.654)
2024-12-10 12:46:37.984 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 12:47:01.659 [http-nio-8080-exec-3] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:A7E2D
2024-12-10 12:47:08.162 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1498
2024-12-10 12:47:08.164 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1496
2024-12-10 12:47:08.165 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1496，RequestID: 3b97c86b-1273-4146-b5bc-93632d942612
2024-12-10 12:47:08.170 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 12:47:08.242 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63354, eventId=1, section=A區, quantity=2
2024-12-10 12:47:08.245 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 2
2024-12-10 12:47:08.247 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=2, RequestId=3b97c86b-1273-4146-b5bc-93632d942612
2024-12-10 12:47:08.248 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-7
2024-12-10 12:47:09.184 [http-nio-8080-exec-8] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63354, orderStatus=付款中)
2024-12-10 12:47:09.203 [http-nio-8080-exec-10] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63354, 用戶名: ruka, 請求ID: {}
2024-12-10 12:47:10.093 [http-nio-8080-exec-2] INFO  c.e.d.u.DatabaseUtils -
				updateCancelOrder更新成功，影響筆數: 1
2024-12-10 12:47:10.098 [http-nio-8080-exec-2] ERROR c.e.d.u.DatabaseUtils -
				訂單 63354 座位狀態更新失敗
2024-12-10 12:47:10.100 [http-nio-8080-exec-2] ERROR c.e.d.c.a.GlobalExceptionAspect -
				OrderServiceImpl中的cancelOrder方法發生錯誤: 訂單 63354 座位狀態更新失敗PreparedStatementCallback; bad SQL grammar [update 	pool
set 	order_id =?,
 		pool_status='未售出'
where 	order_id=?]
2024-12-10 12:47:10.103 [http-nio-8080-exec-2] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.controller.SalesController#postCancelOrder(Integer)
請求方法: POST
請求路徑: /sales/goticket/pay/cancel/63354
請求參數: org.apache.catalina.util.ParameterMap@7f8e3ac2
異常類型: RuntimeException
錯誤訊息: 訂單 63354 座位狀態更新失敗PreparedStatementCallback; bad SQL grammar [update 	pool
set 	order_id =?,
 		pool_status='未售出'
where 	order_id=?]
堆疊追蹤:

java.lang.RuntimeException: 訂單 63354 座位狀態更新失敗PreparedStatementCallback; bad SQL grammar [update 	pool
set 	order_id =?,
 		pool_status='未售出'
where 	order_id=?]
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.service.order.OrderServiceImpl$$SpringCGLIB$$0.cancelOrder(<generated>)
	at com.example.demo.controller.SalesController.postCancelOrder(SalesController.java:120)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 12:50:01.784 [RMI TCP Connection(15)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 12:50:01.822 [RMI TCP Connection(15)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 12:50:01.825 [RMI TCP Connection(15)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 12:50:04.311 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 3112 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 12:50:04.312 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 12:50:05.675 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 12:50:05.678 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 12:50:05.678 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 12:50:05.800 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 12:50:05.803 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 12:50:06.276 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 12:50:06.370 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5feb8e9a
2024-12-10 12:50:06.371 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 12:50:07.689 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 12:50:07.871 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:50:07.874 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:50:08.432 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: cb994f9e-eb27-404b-bac6-b50547c8ae27

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 12:50:09.309 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 12:50:09.387 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.361 seconds (process running for 5.708)
2024-12-10 12:50:09.999 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 12:50:15.381 [http-nio-8080-exec-1] INFO  c.e.d.u.DatabaseUtils -
				updateCancelOrder更新成功，影響筆數: 1
2024-12-10 12:50:15.390 [http-nio-8080-exec-1] ERROR c.e.d.u.DatabaseUtils -
				訂單 63354 座位狀態更新失敗(ticket table)：PreparedStatementCallback; bad SQL grammar [update ticket t
join  orders o on o.event_id=t.event_id
set
	 t.ticket_remaining=t.ticket_remaining + ?
where o.order_id=? and o.order_section=t.ticket_name]
2024-12-10 12:50:15.393 [http-nio-8080-exec-1] ERROR c.e.d.c.a.GlobalExceptionAspect -
				OrderServiceImpl中的cancelOrder方法發生錯誤: 訂單 63354 座位狀態更新失敗(ticket table)PreparedStatementCallback; bad SQL grammar [update ticket t
join  orders o on o.event_id=t.event_id
set
	 t.ticket_remaining=t.ticket_remaining + ?
where o.order_id=? and o.order_section=t.ticket_name]
2024-12-10 12:50:15.397 [http-nio-8080-exec-1] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.controller.SalesController#postCancelOrder(Integer)
請求方法: POST
請求路徑: /sales/goticket/pay/cancel/63354
請求參數: org.apache.catalina.util.ParameterMap@38d85ef7
異常類型: RuntimeException
錯誤訊息: 訂單 63354 座位狀態更新失敗(ticket table)PreparedStatementCallback; bad SQL grammar [update ticket t
join  orders o on o.event_id=t.event_id
set
	 t.ticket_remaining=t.ticket_remaining + ?
where o.order_id=? and o.order_section=t.ticket_name]
堆疊追蹤:

java.lang.RuntimeException: 訂單 63354 座位狀態更新失敗(ticket table)PreparedStatementCallback; bad SQL grammar [update ticket t
join  orders o on o.event_id=t.event_id
set
	 t.ticket_remaining=t.ticket_remaining + ?
where o.order_id=? and o.order_section=t.ticket_name]
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.service.order.OrderServiceImpl$$SpringCGLIB$$0.cancelOrder(<generated>)
	at com.example.demo.controller.SalesController.postCancelOrder(SalesController.java:120)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 12:50:59.843 [RMI TCP Connection(11)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 12:50:59.875 [RMI TCP Connection(11)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 12:50:59.880 [RMI TCP Connection(11)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 12:51:02.299 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 8916 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 12:51:02.300 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 12:51:03.659 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 12:51:03.662 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 12:51:03.662 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 12:51:03.784 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 12:51:03.787 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 12:51:04.250 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 12:51:04.345 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5feb8e9a
2024-12-10 12:51:04.346 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 12:51:05.642 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 12:51:05.816 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:51:05.819 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:51:06.384 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: b502fec1-3a5b-4a0a-9052-bd0a2808ef43

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 12:51:07.269 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 12:51:07.346 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.329 seconds (process running for 5.685)
2024-12-10 12:51:07.926 [RMI TCP Connection(7)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 12:51:11.759 [http-nio-8080-exec-1] INFO  c.e.d.u.DatabaseUtils -
				updateCancelOrder更新成功，影響筆數: 1
2024-12-10 12:51:11.767 [http-nio-8080-exec-1] ERROR c.e.d.u.DatabaseUtils -
				訂單 2 座位狀態更新失敗(ticket table)：PreparedStatementCallback; bad SQL grammar [update ticket t
join  orders o on o.event_id=t.event_id
set
	 t.ticket_remaining=t.ticket_remaining + ?
where o.order_id=? and o.order_section=t.ticket_name]
2024-12-10 12:51:11.770 [http-nio-8080-exec-1] ERROR c.e.d.c.a.GlobalExceptionAspect -
				OrderServiceImpl中的cancelOrder方法發生錯誤: 訂單 2 座位狀態更新失敗(ticket table)PreparedStatementCallback; bad SQL grammar [update ticket t
join  orders o on o.event_id=t.event_id
set
	 t.ticket_remaining=t.ticket_remaining + ?
where o.order_id=? and o.order_section=t.ticket_name]
2024-12-10 12:51:11.774 [http-nio-8080-exec-1] ERROR c.e.d.c.e.GlobalExceptionHandler -
				運行時異常:
控制器: com.example.demo.controller.SalesController#postCancelOrder(Integer)
請求方法: POST
請求路徑: /sales/goticket/pay/cancel/63354
請求參數: org.apache.catalina.util.ParameterMap@5558a9de
異常類型: RuntimeException
錯誤訊息: 訂單 2 座位狀態更新失敗(ticket table)PreparedStatementCallback; bad SQL grammar [update ticket t
join  orders o on o.event_id=t.event_id
set
	 t.ticket_remaining=t.ticket_remaining + ?
where o.order_id=? and o.order_section=t.ticket_name]
堆疊追蹤:

java.lang.RuntimeException: 訂單 2 座位狀態更新失敗(ticket table)PreparedStatementCallback; bad SQL grammar [update ticket t
join  orders o on o.event_id=t.event_id
set
	 t.ticket_remaining=t.ticket_remaining + ?
where o.order_id=? and o.order_section=t.ticket_name]
	at com.example.demo.common.aspect.GlobalExceptionAspect.handleException(GlobalExceptionAspect.java:42)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.example.demo.service.order.OrderServiceImpl$$SpringCGLIB$$0.cancelOrder(<generated>)
	at com.example.demo.controller.SalesController.postCancelOrder(SalesController.java:120)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 12:52:23.034 [RMI TCP Connection(12)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 12:52:23.063 [RMI TCP Connection(12)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 12:52:23.067 [RMI TCP Connection(12)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 12:52:25.532 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 12280 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 12:52:25.533 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 12:52:26.898 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 12:52:26.901 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 12:52:26.901 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 12:52:27.014 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 12:52:27.025 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 12:52:27.489 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 12:52:27.584 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@49ea4b65
2024-12-10 12:52:27.586 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 12:52:28.901 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 12:52:29.090 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:52:29.093 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 12:52:29.649 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 3288ca24-6eb2-4971-8e05-ec784d616dce

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 12:52:30.523 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 12:52:30.599 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.349 seconds (process running for 5.711)
2024-12-10 12:52:31.217 [RMI TCP Connection(9)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 12:52:35.204 [http-nio-8080-exec-1] INFO  c.e.d.u.DatabaseUtils -
				updateCancelOrder更新成功，影響筆數: 1
2024-12-10 12:52:35.208 [http-nio-8080-exec-1] INFO  c.e.d.u.DatabaseUtils -
				updateCancelOrder更新成功，影響筆數: 1
2024-12-10 12:52:56.846 [http-nio-8080-exec-7] INFO  c.e.d.u.DatabaseUtils -
				addRefundSubmit更新成功，影響筆數: 1
2024-12-10 12:52:56.847 [http-nio-8080-exec-7] INFO  c.e.d.u.DatabaseUtils -
				updateRefundByOrderStatus更新成功，影響筆數: 1
2024-12-10 12:52:56.847 [http-nio-8080-exec-7] INFO  c.e.d.s.c.RefundService -
				退票訂單發送成功:ruka
2024-12-10 12:53:10.235 [http-nio-8080-exec-2] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 1
2024-12-10 12:53:10.236 [http-nio-8080-exec-2] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 1
2024-12-10 12:53:10.240 [http-nio-8080-exec-2] INFO  c.e.d.u.DatabaseUtils -
				 updateRefundBySuccess 更新成功，影響筆數: 1
2024-12-10 12:53:10.240 [http-nio-8080-exec-2] INFO  c.e.d.a.s.c.AdRefundService -
				(通過)退票訂單更新成功:8
2024-12-10 14:57:20.057 [RMI TCP Connection(138)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 14:57:20.079 [RMI TCP Connection(138)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 14:57:20.082 [RMI TCP Connection(138)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 14:57:42.317 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 7012 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 14:57:42.319 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 14:57:44.137 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 14:57:44.140 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 14:57:44.141 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 14:57:44.288 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 14:57:44.291 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 14:57:44.951 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 14:57:45.066 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@49ea4b65
2024-12-10 14:57:45.068 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 14:57:46.686 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 14:57:46.886 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 14:57:46.890 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 14:57:47.590 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 843233b3-a0d6-4f29-ad45-4f9d767adc94

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 14:57:48.664 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 14:57:48.758 [main] INFO  c.e.d.MainApp -
				Started MainApp in 6.774 seconds (process running for 7.28)
2024-12-10 14:57:49.354 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 16:05:45.839 [RMI TCP Connection(78)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 16:05:45.861 [RMI TCP Connection(78)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 16:05:45.864 [RMI TCP Connection(78)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 16:05:48.636 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 2080 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 16:05:48.637 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 16:05:50.455 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 16:05:50.459 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 16:05:50.459 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 16:05:50.597 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 16:05:50.601 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 16:05:51.259 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 16:05:51.375 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e7ddb7e
2024-12-10 16:05:51.376 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 16:05:52.981 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 16:05:53.198 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:05:53.202 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:05:53.899 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: f3b24074-170c-415f-86b4-3fdb83b6df82

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 16:05:54.977 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 16:05:55.073 [main] INFO  c.e.d.MainApp -
				Started MainApp in 6.791 seconds (process running for 7.268)
2024-12-10 16:05:55.596 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 16:09:27.779 [RMI TCP Connection(14)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 16:09:27.802 [RMI TCP Connection(14)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 16:09:27.806 [RMI TCP Connection(14)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 16:09:30.397 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 4376 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 16:09:30.398 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 16:09:32.098 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 16:09:32.101 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 16:09:32.101 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 16:09:32.237 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 16:09:32.240 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 16:09:32.857 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 16:09:32.962 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6905d030
2024-12-10 16:09:32.966 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 16:09:34.508 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 16:09:34.752 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:09:34.756 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:09:35.414 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 6c7e880a-1e73-4acd-917a-f0dc9f6d7ef3

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 16:09:36.380 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 16:09:36.465 [main] INFO  c.e.d.MainApp -
				Started MainApp in 6.407 seconds (process running for 6.815)
2024-12-10 16:09:36.899 [RMI TCP Connection(9)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 16:11:41.535 [RMI TCP Connection(12)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 16:11:41.554 [RMI TCP Connection(12)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 16:11:41.559 [RMI TCP Connection(12)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 16:11:44.073 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 3108 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 16:11:44.074 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 16:11:45.660 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 16:11:45.663 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 16:11:45.663 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 16:11:45.795 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 16:11:45.799 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 16:11:46.314 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 16:11:46.417 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2cf669f2
2024-12-10 16:11:46.419 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 16:11:47.864 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 16:11:48.051 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:11:48.055 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:11:48.734 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: f1fc2c79-b039-4418-ac09-9a1cbacbd559

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 16:11:49.756 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 16:11:49.852 [main] INFO  c.e.d.MainApp -
				Started MainApp in 6.091 seconds (process running for 6.473)
2024-12-10 16:11:50.236 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 16:14:24.133 [RMI TCP Connection(13)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 16:14:24.153 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 16:14:24.157 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 16:14:26.698 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 9496 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 16:14:26.699 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 16:14:28.204 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 16:14:28.207 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 16:14:28.208 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 16:14:28.338 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 16:14:28.342 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 16:14:28.883 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 16:14:28.986 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d1cfe97
2024-12-10 16:14:28.988 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 16:14:30.447 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 16:14:30.646 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:14:30.650 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:14:31.265 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 98ada37e-384c-44ae-b3ce-aa1d5428f360

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 16:14:32.244 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 16:14:32.317 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 16:14:32.333 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.947 seconds (process running for 6.342)
2024-12-10 16:14:33.668 [http-nio-8080-exec-8] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:QU59F
2024-12-10 16:14:38.699 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1500
2024-12-10 16:14:38.700 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1499
2024-12-10 16:14:38.701 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1499，RequestID: f46db015-58e5-4b26-8d9f-adbc8b4d7a60
2024-12-10 16:14:38.707 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 16:14:38.792 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63355, eventId=1, section=A區, quantity=1
2024-12-10 16:14:38.795 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 16:14:38.796 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=f46db015-58e5-4b26-8d9f-adbc8b4d7a60
2024-12-10 16:14:38.799 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-8
2024-12-10 16:14:39.703 [http-nio-8080-exec-3] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63355, orderStatus=付款中)
2024-12-10 16:14:39.721 [http-nio-8080-exec-6] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63355, 用戶名: ruka, 請求ID: {}
2024-12-10 16:14:40.651 [http-nio-8080-exec-7] INFO  c.e.d.u.DatabaseUtils -
				updateOrderStatus更新成功，影響筆數: 1
2024-12-10 16:14:41.274 [http-nio-8080-exec-9] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63355, 用戶名: ruka, 請求ID: {}
2024-12-10 16:16:10.590 [RMI TCP Connection(12)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 16:16:10.618 [RMI TCP Connection(12)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 16:16:10.622 [RMI TCP Connection(12)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 16:16:13.139 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 14592 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 16:16:13.140 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 16:16:14.690 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 16:16:14.694 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 16:16:14.694 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 16:16:14.867 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 16:16:14.874 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 16:16:15.390 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 16:16:15.498 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2cf669f2
2024-12-10 16:16:15.499 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 16:16:16.922 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 16:16:17.127 [redisson-netty-2-6] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:16:17.130 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:16:17.760 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: af891691-c7af-46ab-a562-d40d529a41eb

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 16:16:18.754 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 16:16:18.832 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 16:16:18.842 [main] INFO  c.e.d.MainApp -
				Started MainApp in 6.013 seconds (process running for 6.391)
2024-12-10 16:16:20.144 [http-nio-8080-exec-3] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:9X9C3
2024-12-10 16:16:28.353 [http-nio-8080-exec-5] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:5G7MD
2024-12-10 16:16:32.897 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				儲存的訊息:{"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 16:16:32.908 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1499
2024-12-10 16:16:32.910 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1498
2024-12-10 16:16:32.910 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1498，RequestID: d308efc6-b3c4-4a30-8146-bfcfbb191d07
2024-12-10 16:16:32.915 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 16:16:32.922 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63356, eventId=1, section=A區, quantity=1
2024-12-10 16:16:32.925 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 16:16:32.926 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=d308efc6-b3c4-4a30-8146-bfcfbb191d07
2024-12-10 16:16:32.928 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-9
2024-12-10 16:16:33.912 [http-nio-8080-exec-9] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63356, orderStatus=付款中)
2024-12-10 16:16:33.932 [http-nio-8080-exec-1] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63356, 用戶名: ruka, 請求ID: {}
2024-12-10 16:16:35.075 [http-nio-8080-exec-4] INFO  c.e.d.u.DatabaseUtils -
				updateOrderStatus更新成功，影響筆數: 1
2024-12-10 16:16:35.696 [http-nio-8080-exec-5] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63356, 用戶名: ruka, 請求ID: {}
2024-12-10 16:18:22.877 [RMI TCP Connection(13)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 16:18:22.905 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 16:18:22.910 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 16:18:25.456 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 7688 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 16:18:25.457 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 16:18:26.954 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 16:18:26.957 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 16:18:26.957 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 16:18:27.084 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 16:18:27.087 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 16:18:27.598 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 16:18:27.696 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@66b62332
2024-12-10 16:18:27.698 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 16:18:29.073 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 16:18:29.259 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:18:29.263 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:18:29.873 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 573630dc-4909-4090-8260-55e497caf5ee

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 16:18:30.836 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 16:18:30.918 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.778 seconds (process running for 6.164)
2024-12-10 16:18:31.025 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 16:18:39.569 [http-nio-8080-exec-3] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:LTPKM
2024-12-10 16:18:44.742 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				trafficData:
2024-12-10 16:18:44.747 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				儲存的訊息:{"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 16:18:44.754 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1498
2024-12-10 16:18:44.756 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1497
2024-12-10 16:18:44.756 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1497，RequestID: 31d825e4-93ce-41c1-ae6e-bbad881b8f71
2024-12-10 16:18:44.764 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 16:18:44.772 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63357, eventId=1, section=A區, quantity=1
2024-12-10 16:18:44.775 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 16:18:44.776 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=31d825e4-93ce-41c1-ae6e-bbad881b8f71
2024-12-10 16:18:44.779 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-10
2024-12-10 16:18:45.762 [http-nio-8080-exec-8] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63357, orderStatus=付款中)
2024-12-10 16:18:45.782 [http-nio-8080-exec-10] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63357, 用戶名: ruka, 請求ID: {}
2024-12-10 16:18:46.922 [http-nio-8080-exec-2] INFO  c.e.d.u.DatabaseUtils -
				updateOrderStatus更新成功，影響筆數: 1
2024-12-10 16:18:47.634 [http-nio-8080-exec-3] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63357, 用戶名: ruka, 請求ID: {}
2024-12-10 16:20:21.627 [RMI TCP Connection(14)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 16:20:21.653 [RMI TCP Connection(14)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 16:20:21.657 [RMI TCP Connection(14)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 16:20:24.174 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 14040 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 16:20:24.175 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 16:20:25.700 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 16:20:25.703 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 16:20:25.703 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 16:20:25.831 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 16:20:25.834 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 16:20:26.345 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 16:20:26.446 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4af6839c
2024-12-10 16:20:26.447 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 16:20:27.839 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 16:20:28.038 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:20:28.041 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:20:28.666 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 15b175ab-a099-45d6-bb5b-4abe25c91946

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 16:20:29.754 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 16:20:29.853 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.984 seconds (process running for 6.361)
2024-12-10 16:20:30.302 [RMI TCP Connection(9)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 16:20:33.519 [http-nio-8080-exec-3] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:HHZBJ
2024-12-10 16:20:39.129 [http-nio-8080-exec-5] INFO  c.e.d.c.SalesController -
				SalesController:
2024-12-10 16:20:39.138 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				trafficData:
2024-12-10 16:20:39.144 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				儲存的訊息:{"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 16:20:39.149 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1497
2024-12-10 16:20:39.151 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1496
2024-12-10 16:20:39.152 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1496，RequestID: 3b8648a3-dafa-428b-8ecd-48a747d46d7f
2024-12-10 16:20:39.157 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 16:20:39.164 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63358, eventId=1, section=A區, quantity=1
2024-12-10 16:20:39.167 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 16:20:39.169 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=3b8648a3-dafa-428b-8ecd-48a747d46d7f
2024-12-10 16:20:39.171 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-11
2024-12-10 16:20:40.162 [http-nio-8080-exec-8] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63358, orderStatus=付款中)
2024-12-10 16:20:40.183 [http-nio-8080-exec-10] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63358, 用戶名: ruka, 請求ID: {}
2024-12-10 16:20:40.740 [http-nio-8080-exec-2] INFO  c.e.d.u.DatabaseUtils -
				updateOrderStatus更新成功，影響筆數: 1
2024-12-10 16:20:41.841 [http-nio-8080-exec-3] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63358, 用戶名: ruka, 請求ID: {}
2024-12-10 16:23:35.836 [RMI TCP Connection(14)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 16:23:35.864 [RMI TCP Connection(14)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 16:23:35.869 [RMI TCP Connection(14)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 16:23:38.539 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 7872 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 16:23:38.540 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 16:23:40.045 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 16:23:40.050 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 16:23:40.050 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 16:23:40.188 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 16:23:40.191 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 16:23:40.705 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 16:23:40.806 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d1cfe97
2024-12-10 16:23:40.808 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 16:23:42.214 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 16:23:42.412 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:23:42.416 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:23:43.075 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 6fdb8991-e1f3-488e-8c5d-394fe052534e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 16:23:44.096 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 16:23:44.181 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.951 seconds (process running for 6.328)
2024-12-10 16:23:44.671 [RMI TCP Connection(9)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 16:24:15.501 [RMI TCP Connection(7)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 16:24:15.528 [RMI TCP Connection(7)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 16:24:15.533 [RMI TCP Connection(7)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 16:24:24.325 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 17392 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 16:24:24.326 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 16:24:25.849 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 16:24:25.852 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 16:24:25.852 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 16:24:25.982 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 16:24:25.985 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 16:24:26.498 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 16:24:26.598 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@66b62332
2024-12-10 16:24:26.599 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 16:24:28.003 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 16:24:28.200 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:24:28.203 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:24:28.818 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: d82b0c3f-07b7-4b96-9c5c-b8131f068708

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 16:24:29.795 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 16:24:29.878 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.865 seconds (process running for 6.247)
2024-12-10 16:24:30.053 [RMI TCP Connection(7)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 16:26:16.886 [RMI TCP Connection(13)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 16:26:16.912 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 16:26:16.916 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 16:26:19.432 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 1524 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 16:26:19.433 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 16:26:20.946 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 16:26:20.949 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 16:26:20.949 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 16:26:21.069 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 16:26:21.072 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 16:26:21.581 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 16:26:21.680 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b35b0f4
2024-12-10 16:26:21.682 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 16:26:23.063 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 16:26:23.251 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:26:23.254 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:26:23.869 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 1634442b-85bc-4742-9311-9560ac9b7934

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 16:26:24.857 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 16:26:24.941 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.818 seconds (process running for 6.198)
2024-12-10 16:26:25.368 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 16:26:30.931 [http-nio-8080-exec-3] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:N8PEY
2024-12-10 16:26:37.647 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				trafficData:
2024-12-10 16:26:37.652 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				儲存的訊息:{"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 16:26:37.658 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1496
2024-12-10 16:26:37.660 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1495
2024-12-10 16:26:37.661 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1495，RequestID: aecf60ee-bf00-4b87-8267-51b30274f729
2024-12-10 16:26:37.669 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 16:26:37.759 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63359, eventId=1, section=A區, quantity=1
2024-12-10 16:26:37.762 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 16:26:37.763 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=aecf60ee-bf00-4b87-8267-51b30274f729
2024-12-10 16:26:37.765 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-12
2024-12-10 16:26:38.672 [http-nio-8080-exec-8] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63359, orderStatus=付款中)
2024-12-10 16:26:38.691 [http-nio-8080-exec-10] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63359, 用戶名: ruka, 請求ID: {}
2024-12-10 16:26:39.554 [http-nio-8080-exec-2] INFO  c.e.d.u.DatabaseUtils -
				updateOrderStatus更新成功，影響筆數: 1
2024-12-10 16:26:40.347 [http-nio-8080-exec-3] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63359, 用戶名: ruka, 請求ID: {}
2024-12-10 16:26:42.717 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				從Redis獲取到 5 條記錄
2024-12-10 16:28:14.665 [RMI TCP Connection(14)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 16:28:14.686 [RMI TCP Connection(14)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 16:28:14.690 [RMI TCP Connection(14)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 16:28:17.211 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 10388 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 16:28:17.212 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 16:28:18.719 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 16:28:18.722 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 16:28:18.722 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 16:28:18.852 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 16:28:18.856 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 16:28:19.354 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 16:28:19.453 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2cf669f2
2024-12-10 16:28:19.454 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 16:28:20.837 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 16:28:21.024 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:28:21.027 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:28:21.653 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 75cab6fb-69bd-4bc8-8efc-07840e2bf10e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 16:28:22.619 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 16:28:22.703 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.806 seconds (process running for 6.181)
2024-12-10 16:28:22.999 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 16:28:27.938 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				從Redis獲取到 5 條記錄
2024-12-10 16:28:27.938 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				記錄內容: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 16:28:27.938 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				記錄內容: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 16:28:27.938 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				記錄內容: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 16:28:27.938 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				記錄內容: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 16:28:27.938 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				記錄內容: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 16:30:01.656 [RMI TCP Connection(13)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 16:30:01.686 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 16:30:01.691 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 16:30:04.211 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 9960 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 16:30:04.212 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 16:30:05.759 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 16:30:05.762 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 16:30:05.762 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 16:30:05.893 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 16:30:05.897 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 16:30:06.406 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 16:30:06.504 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4af6839c
2024-12-10 16:30:06.505 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 16:30:07.960 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 16:30:08.148 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:30:08.154 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:30:08.777 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: d1a41b80-2e3e-4baf-89cf-5b2583d297b6

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 16:30:09.771 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 16:30:09.856 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.959 seconds (process running for 6.337)
2024-12-10 16:30:10.248 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 16:30:49.166 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 16:30:49.181 [http-nio-8080-exec-1] ERROR c.e.d.a.s.t.TrafficServiceImpl -
				轉換失敗，原因: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 149] (through reference chain: com.example.demo.adminPanel.dto.traffic.TrafficRecordDto["timestamp"])
2024-12-10 16:30:49.182 [http-nio-8080-exec-1] ERROR c.e.d.a.s.t.TrafficServiceImpl -
				失敗的記錄內容: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 16:30:49.182 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 16:30:49.183 [http-nio-8080-exec-1] ERROR c.e.d.a.s.t.TrafficServiceImpl -
				轉換失敗，原因: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 149] (through reference chain: com.example.demo.adminPanel.dto.traffic.TrafficRecordDto["timestamp"])
2024-12-10 16:30:49.183 [http-nio-8080-exec-1] ERROR c.e.d.a.s.t.TrafficServiceImpl -
				失敗的記錄內容: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 16:30:49.183 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 16:30:49.184 [http-nio-8080-exec-1] ERROR c.e.d.a.s.t.TrafficServiceImpl -
				轉換失敗，原因: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 149] (through reference chain: com.example.demo.adminPanel.dto.traffic.TrafficRecordDto["timestamp"])
2024-12-10 16:30:49.184 [http-nio-8080-exec-1] ERROR c.e.d.a.s.t.TrafficServiceImpl -
				失敗的記錄內容: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 16:30:49.184 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 16:30:49.184 [http-nio-8080-exec-1] ERROR c.e.d.a.s.t.TrafficServiceImpl -
				轉換失敗，原因: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 143] (through reference chain: com.example.demo.adminPanel.dto.traffic.TrafficRecordDto["timestamp"])
2024-12-10 16:30:49.185 [http-nio-8080-exec-1] ERROR c.e.d.a.s.t.TrafficServiceImpl -
				失敗的記錄內容: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 16:30:49.185 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 16:30:49.185 [http-nio-8080-exec-1] ERROR c.e.d.a.s.t.TrafficServiceImpl -
				轉換失敗，原因: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 143] (through reference chain: com.example.demo.adminPanel.dto.traffic.TrafficRecordDto["timestamp"])
2024-12-10 16:30:49.185 [http-nio-8080-exec-1] ERROR c.e.d.a.s.t.TrafficServiceImpl -
				失敗的記錄內容: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 16:31:36.682 [RMI TCP Connection(13)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 16:31:36.712 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 16:31:36.716 [RMI TCP Connection(13)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 16:31:39.326 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 17520 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 16:31:39.327 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 16:31:40.834 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 16:31:40.837 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 16:31:40.838 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 16:31:40.968 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 16:31:40.971 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 16:31:41.476 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 16:31:41.578 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e7ddb7e
2024-12-10 16:31:41.579 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 16:31:42.969 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 16:31:43.159 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:31:43.162 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:31:43.799 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: e3b4de22-4e8f-4dab-a79c-bd6cb38e8b5e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 16:31:44.802 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 16:31:44.886 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.869 seconds (process running for 6.306)
2024-12-10 16:31:45.340 [RMI TCP Connection(10)-127.0.0.1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 16:31:46.266 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 16:31:46.278 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:31:46.279 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 16:31:46.280 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:31:46.280 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 16:31:46.281 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:31:46.281 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 16:31:46.282 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:31:46.282 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 16:31:46.282 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:34:46.244 [http-nio-8080-exec-8] INFO  c.e.d.c.U.CaptchaController -
				產生的驗證碼:FQ9GC
2024-12-10 16:34:54.106 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				trafficData:
2024-12-10 16:34:54.112 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				儲存的訊息:{"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 16:34:54.119 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1495
2024-12-10 16:34:54.120 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1494
2024-12-10 16:34:54.121 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1494，RequestID: 297424e2-3261-46f4-9bd1-b100964a5112
2024-12-10 16:34:54.126 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 16:34:54.133 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63360, eventId=1, section=A區, quantity=1
2024-12-10 16:34:54.135 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 16:34:54.138 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=297424e2-3261-46f4-9bd1-b100964a5112
2024-12-10 16:34:54.140 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-13
2024-12-10 16:34:55.126 [http-nio-8080-exec-3] INFO  c.e.d.r.o.OrderRepositoryJdbcImpl -
				已搜尋到訂單OrderDto(orderId=63360, orderStatus=付款中)
2024-12-10 16:34:55.145 [http-nio-8080-exec-5] INFO  c.e.d.s.o.OrderServiceImpl -
				獲取訂單摘要, 訂單ID: 63360, 用戶名: ruka, 請求ID: {}
2024-12-10 16:34:56.797 [http-nio-8080-exec-7] INFO  c.e.d.u.DatabaseUtils -
				updateCancelOrder更新成功，影響筆數: 1
2024-12-10 16:34:56.802 [http-nio-8080-exec-7] INFO  c.e.d.u.DatabaseUtils -
				updateCancelOrder更新成功，影響筆數: 1
2024-12-10 16:35:02.036 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 16:35:02.037 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:35:02.037 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 16:35:02.038 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:35:02.038 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 16:35:02.038 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:35:02.038 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 16:35:02.039 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:35:02.039 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 16:35:02.039 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:35:02.039 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 16:35:02.039 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:42:15.414 [RMI TCP Connection(22)-127.0.0.1] INFO  o.a.c.h.Http11NioProtocol -
				Stopping ProtocolHandler ["http-nio-8080"]
2024-12-10 16:42:15.442 [RMI TCP Connection(22)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown initiated...
2024-12-10 16:42:15.446 [RMI TCP Connection(22)-127.0.0.1] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Shutdown completed.
2024-12-10 16:42:17.965 [main] INFO  c.e.d.MainApp -
				Starting MainApp using Java 21.0.4 with PID 3024 (C:\Users\NTPU\git\TicksBackendcs\tickets-backend\target\classes started by NTPU in C:\Users\NTPU\git\TicksBackendcs\tickets-backend)
2024-12-10 16:42:17.966 [main] INFO  c.e.d.MainApp -
				No active profile set, falling back to 1 default profile: "default"
2024-12-10 16:42:19.499 [main] INFO  o.a.c.h.Http11NioProtocol -
				Initializing ProtocolHandler ["http-nio-8080"]
2024-12-10 16:42:19.502 [main] INFO  o.a.c.c.StandardService -
				Starting service [Tomcat]
2024-12-10 16:42:19.502 [main] INFO  o.a.c.c.StandardEngine -
				Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10 16:42:19.633 [main] INFO  o.a.j.s.TldScanner -
				At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2024-12-10 16:42:19.637 [main] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring embedded WebApplicationContext
2024-12-10 16:42:20.154 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Starting...
2024-12-10 16:42:20.258 [main] INFO  c.z.h.p.HikariPool -
				HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b35b0f4
2024-12-10 16:42:20.259 [main] INFO  c.z.h.HikariDataSource -
				HikariPool-1 - Start completed.
2024-12-10 16:42:21.666 [main] INFO  o.r.Version -
				Redisson 3.22.0
2024-12-10 16:42:21.860 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool -
				1 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:42:21.864 [redisson-netty-2-8] INFO  o.r.c.p.MasterConnectionPool -
				2 connections initialized for localhost/127.0.0.1:6379
2024-12-10 16:42:22.502 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -
				

Using generated security password: 73a0104d-0f6c-4490-9cf1-dd258a09a072

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-12-10 16:42:23.479 [main] INFO  o.a.c.h.Http11NioProtocol -
				Starting ProtocolHandler ["http-nio-8080"]
2024-12-10 16:42:23.564 [main] INFO  c.e.d.MainApp -
				Started MainApp in 5.91 seconds (process running for 6.291)
2024-12-10 16:42:23.669 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[.[/] -
				Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10 16:42:26.052 [http-nio-8080-exec-7] INFO  c.e.d.c.w.TicketWebSocketService -
				新的 WebSocket 連接建立: c57547de-5b3e-f285-6ee2-f8616cece128
2024-12-10 16:42:26.054 [http-nio-8080-exec-7] INFO  c.e.d.c.w.TicketWebSocketService -
				票務查詢服務已啟動
2024-12-10 16:42:27.066 [TaskScheduler-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:28.061 [TaskScheduler-2] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:29.069 [TaskScheduler-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:29.069 [http-nio-8080-exec-3] ERROR c.e.d.c.w.TicketWebSocketService -
				處理訂閱請求時發生錯誤: The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is an invalid state for called method
2024-12-10 16:42:30.067 [TaskScheduler-3] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:31.021 [http-nio-8080-exec-8] INFO  c.e.d.a.r.o.AdOrdersJDBCImpl -
				清除訂單比數:0
2024-12-10 16:42:31.023 [http-nio-8080-exec-8] INFO  c.e.d.u.DatabaseUtils -
				updateRemaining更新成功，影響筆數: 1
2024-12-10 16:42:32.061 [http-nio-8080-exec-2] ERROR c.e.d.c.w.TicketWebSocketService -
				處理訂閱請求時發生錯誤: The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is an invalid state for called method
2024-12-10 16:42:32.061 [TaskScheduler-4] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:33.060 [http-nio-8080-exec-1] ERROR c.e.d.c.w.TicketWebSocketService -
				處理訂閱請求時發生錯誤: The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is an invalid state for called method
2024-12-10 16:42:33.060 [TaskScheduler-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:33.374 [http-nio-8080-exec-4] INFO  c.e.d.a.r.o.AdOrdersJDBCImpl -
				清除訂單比數:0
2024-12-10 16:42:33.375 [http-nio-8080-exec-4] INFO  c.e.d.u.DatabaseUtils -
				updateRemaining更新成功，影響筆數: 1
2024-12-10 16:42:34.156 [TaskScheduler-5] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:35.067 [TaskScheduler-3] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:36.058 [TaskScheduler-3] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:37.062 [TaskScheduler-3] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:38.065 [TaskScheduler-3] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:39.069 [TaskScheduler-3] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:40.060 [TaskScheduler-3] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:41.069 [TaskScheduler-3] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:42.055 [TaskScheduler-3] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:43.065 [TaskScheduler-3] ERROR c.e.d.c.w.TicketWebSocketService -
				發送票務更新失敗: sessionId=c57547de-5b3e-f285-6ee2-f8616cece128, error=The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is an invalid state for called method
2024-12-10 16:42:43.065 [TaskScheduler-3] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:44.057 [TaskScheduler-3] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:45.068 [TaskScheduler-6] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:46.060 [TaskScheduler-6] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:47.066 [TaskScheduler-6] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:48.062 [TaskScheduler-6] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:49.056 [TaskScheduler-6] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:50.069 [TaskScheduler-6] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:51.067 [TaskScheduler-6] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:52.070 [TaskScheduler-6] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:53.065 [TaskScheduler-6] ERROR c.e.d.c.w.TicketWebSocketService -
				發送票務更新失敗: sessionId=c57547de-5b3e-f285-6ee2-f8616cece128, error=The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is an invalid state for called method
2024-12-10 16:42:53.067 [TaskScheduler-6] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:54.062 [TaskScheduler-3] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:55.063 [TaskScheduler-3] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:56.072 [TaskScheduler-3] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:57.064 [TaskScheduler-3] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 16:42:57.593 [http-nio-8080-exec-2] INFO  c.e.d.c.w.TicketWebSocketService -
				WebSocket 連接關閉: c57547de-5b3e-f285-6ee2-f8616cece128, 狀態: CloseStatus[code=1000, reason=null]
2024-12-10 16:42:57.593 [http-nio-8080-exec-2] INFO  c.e.d.c.w.TicketWebSocketService -
				票務查詢服務已停止
2024-12-10 16:45:19.889 [http-nio-8080-exec-7] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 16:45:19.890 [http-nio-8080-exec-7] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:45:19.892 [http-nio-8080-exec-7] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 16:45:19.892 [http-nio-8080-exec-7] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:45:19.892 [http-nio-8080-exec-7] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 16:45:19.892 [http-nio-8080-exec-7] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:45:19.892 [http-nio-8080-exec-7] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 16:45:19.892 [http-nio-8080-exec-7] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:45:19.892 [http-nio-8080-exec-7] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 16:45:19.892 [http-nio-8080-exec-7] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:45:19.892 [http-nio-8080-exec-7] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 16:45:19.893 [http-nio-8080-exec-7] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:56:21.172 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 16:56:21.172 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:56:21.172 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 16:56:21.173 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:56:21.173 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 16:56:21.173 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:56:21.173 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 16:56:21.173 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:56:21.173 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 16:56:21.173 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:56:21.173 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 16:56:21.173 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:56:31.925 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 16:56:31.925 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:56:31.925 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 16:56:31.925 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:56:31.925 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 16:56:31.926 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:56:31.926 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 16:56:31.926 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:56:31.926 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 16:56:31.926 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:56:31.926 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 16:56:31.926 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:59:46.019 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 16:59:46.019 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:59:46.019 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 16:59:46.020 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:59:46.020 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 16:59:46.020 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:59:46.020 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 16:59:46.020 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:59:46.020 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 16:59:46.020 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 16:59:46.020 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 16:59:46.020 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:29.562 [http-nio-8080-exec-4] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:01:29.563 [http-nio-8080-exec-4] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:29.563 [http-nio-8080-exec-4] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:01:29.563 [http-nio-8080-exec-4] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:29.563 [http-nio-8080-exec-4] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:01:29.563 [http-nio-8080-exec-4] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:29.563 [http-nio-8080-exec-4] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:01:29.563 [http-nio-8080-exec-4] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:29.563 [http-nio-8080-exec-4] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:01:29.563 [http-nio-8080-exec-4] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:29.563 [http-nio-8080-exec-4] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:01:29.563 [http-nio-8080-exec-4] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:31.912 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:01:31.912 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:31.912 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:01:31.912 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:31.912 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:01:31.913 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:31.913 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:01:31.913 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:31.913 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:01:31.913 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:31.913 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:01:31.913 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:41.223 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:01:41.224 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:41.224 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:01:41.224 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:41.224 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:01:41.224 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:41.224 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:01:41.224 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:41.224 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:01:41.224 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:01:41.224 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:01:41.224 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:02:57.178 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:02:57.179 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:02:57.179 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:02:57.180 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:02:57.180 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:02:57.180 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:02:57.180 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:02:57.180 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:02:57.180 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:02:57.180 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:02:57.180 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:02:57.180 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:03:41.234 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:03:41.234 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:03:41.234 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:03:41.234 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:03:41.234 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:03:41.234 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:03:41.234 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:03:41.235 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:03:41.235 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:03:41.235 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:03:41.235 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:03:41.235 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:08.236 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:04:08.236 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:08.237 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:04:08.237 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:08.237 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:04:08.237 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:08.237 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:04:08.238 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:08.238 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:04:08.238 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:08.238 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:04:08.238 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:10.630 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:04:10.631 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:10.631 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:04:10.631 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:10.631 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:04:10.631 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:10.631 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:04:10.631 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:10.631 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:04:10.631 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:10.631 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:04:10.631 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:15.557 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:04:15.558 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:15.558 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:04:15.558 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:15.559 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:04:15.559 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:15.559 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:04:15.559 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:15.559 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:04:15.559 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:04:15.559 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:04:15.559 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:05:32.233 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:05:32.233 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:05:32.233 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:05:32.233 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:05:32.233 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:05:32.233 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:05:32.233 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:05:32.233 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:05:32.233 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:05:32.234 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:05:32.234 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:05:32.234 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:06:01.229 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:06:01.229 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:06:01.229 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:06:01.229 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:06:01.229 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:06:01.230 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:06:01.230 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:06:01.230 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:06:01.230 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:06:01.230 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:06:01.230 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:06:01.230 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:08.234 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:07:08.235 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:08.235 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:07:08.235 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:08.235 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:07:08.235 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:08.235 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:07:08.236 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:08.236 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:07:08.236 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:08.236 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:07:08.236 [http-nio-8080-exec-9] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:10.231 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:07:10.232 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:10.232 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:07:10.232 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:10.232 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:07:10.232 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:10.232 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:07:10.233 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:10.233 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:07:10.233 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:10.233 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:07:10.233 [http-nio-8080-exec-2] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:13.236 [http-nio-8080-exec-3] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:07:13.236 [http-nio-8080-exec-3] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:13.237 [http-nio-8080-exec-3] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:07:13.237 [http-nio-8080-exec-3] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:13.237 [http-nio-8080-exec-3] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:07:13.237 [http-nio-8080-exec-3] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:13.237 [http-nio-8080-exec-3] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:07:13.237 [http-nio-8080-exec-3] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:13.237 [http-nio-8080-exec-3] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:07:13.237 [http-nio-8080-exec-3] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:07:13.237 [http-nio-8080-exec-3] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:07:13.237 [http-nio-8080-exec-3] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:08:30.403 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:08:30.404 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:08:30.404 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:08:30.404 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:08:30.404 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:08:30.404 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:08:30.405 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:08:30.405 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:08:30.405 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:08:30.405 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:08:30.405 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:08:30.406 [http-nio-8080-exec-6] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:09:11.243 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:09:11.244 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:09:11.244 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:09:11.244 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:09:11.244 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:09:11.244 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:09:11.244 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:09:11.244 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:09:11.245 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:09:11.245 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:09:11.245 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:09:11.245 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:16.249 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:10:16.249 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:16.249 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:10:16.249 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:16.249 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:10:16.249 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:16.250 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:10:16.250 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:16.250 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:10:16.250 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:16.250 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:10:16.250 [http-nio-8080-exec-8] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:17.244 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:10:17.244 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:17.244 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:10:17.244 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:17.244 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:10:17.245 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:17.245 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:10:17.245 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:17.245 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:10:17.245 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:17.245 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:10:17.245 [http-nio-8080-exec-1] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:18.060 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819694081}
2024-12-10 17:10:18.061 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819694081, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:18.061 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733819197620}
2024-12-10 17:10:18.063 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733819197620, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:18.063 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818839115}
2024-12-10 17:10:18.064 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818839115, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:18.064 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"0:0:0:0:0:0:0:1","userName":"ruka","isProxy":false,"timestamp":1733818724706}
2024-12-10 17:10:18.064 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818724706, userName=ruka, ip=0:0:0:0:0:0:0:1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:18.064 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818592867}
2024-12-10 17:10:18.064 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818592867, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:10:18.064 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"127.0.0.1","userName":"ruka","isProxy":false,"timestamp":1733818478654}
2024-12-10 17:10:18.064 [http-nio-8080-exec-10] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733818478654, userName=ruka, ip=127.0.0.1, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=false, isRobot=false)
2024-12-10 17:11:59.208 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				trafficData:
2024-12-10 17:11:59.213 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				儲存的訊息:{"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.255","userName":"ruka","isProxy":true,"timestamp":1733821919173}
2024-12-10 17:11:59.214 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				Redis 無庫存記錄，從資料庫初始化，庫存: 1495
2024-12-10 17:11:59.216 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1494
2024-12-10 17:11:59.217 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1494，RequestID: 0ecfb561-fbd6-4d32-a965-685415d80ffd
2024-12-10 17:11:59.221 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				trafficData:
2024-12-10 17:11:59.224 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				儲存的訊息:{"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.3","userName":"ruka","isProxy":true,"timestamp":1733821919174}
2024-12-10 17:11:59.225 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1493
2024-12-10 17:11:59.226 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1493，RequestID: 0a17a0f3-a368-4ecf-912c-0fb1f90e5d3e
2024-12-10 17:11:59.229 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 17:11:59.242 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63361, eventId=1, section=A區, quantity=1
2024-12-10 17:11:59.245 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 17:11:59.246 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=0ecfb561-fbd6-4d32-a965-685415d80ffd
2024-12-10 17:11:59.249 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-14
2024-12-10 17:11:59.252 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 17:11:59.254 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				trafficData:
2024-12-10 17:11:59.256 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63362, eventId=1, section=A區, quantity=1
2024-12-10 17:11:59.258 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1492
2024-12-10 17:11:59.258 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				儲存的訊息:{"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.200","userName":"ruka","isProxy":true,"timestamp":1733821919252}
2024-12-10 17:11:59.258 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1492，RequestID: 2843449a-05d1-4714-bfc5-69413c0f2965
2024-12-10 17:11:59.259 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 17:11:59.260 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=0a17a0f3-a368-4ecf-912c-0fb1f90e5d3e
2024-12-10 17:11:59.262 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-15
2024-12-10 17:11:59.265 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 17:11:59.268 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63363, eventId=1, section=A區, quantity=1
2024-12-10 17:11:59.271 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 17:11:59.272 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=2843449a-05d1-4714-bfc5-69413c0f2965
2024-12-10 17:11:59.274 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-16
2024-12-10 17:11:59.357 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				trafficData:
2024-12-10 17:11:59.361 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1491
2024-12-10 17:11:59.361 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				儲存的訊息:{"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.234","userName":"ruka","isProxy":true,"timestamp":1733821919355}
2024-12-10 17:11:59.361 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1491，RequestID: 0ec3d706-4db7-479d-8f37-abd067bbe09d
2024-12-10 17:11:59.382 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 17:11:59.385 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63364, eventId=1, section=A區, quantity=1
2024-12-10 17:11:59.388 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 17:11:59.389 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=0ec3d706-4db7-479d-8f37-abd067bbe09d
2024-12-10 17:11:59.391 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-17
2024-12-10 17:11:59.456 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				trafficData:
2024-12-10 17:11:59.459 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				儲存的訊息:{"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.237","userName":"ruka","isProxy":true,"timestamp":1733821919453}
2024-12-10 17:11:59.459 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1490
2024-12-10 17:11:59.459 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1490，RequestID: e725316b-0bfa-4746-bd0a-d44185f9e79a
2024-12-10 17:11:59.507 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 17:11:59.511 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63365, eventId=1, section=A區, quantity=1
2024-12-10 17:11:59.514 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 17:11:59.515 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=e725316b-0bfa-4746-bd0a-d44185f9e79a
2024-12-10 17:11:59.516 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-18
2024-12-10 17:11:59.559 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				trafficData:
2024-12-10 17:11:59.562 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1489
2024-12-10 17:11:59.562 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				儲存的訊息:{"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.135","userName":"ruka","isProxy":true,"timestamp":1733821919550}
2024-12-10 17:11:59.563 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1489，RequestID: cb68cfa8-d6fb-46a7-b75c-e467a157dd44
2024-12-10 17:11:59.567 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 17:11:59.571 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63366, eventId=1, section=A區, quantity=1
2024-12-10 17:11:59.574 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 17:11:59.575 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=cb68cfa8-d6fb-46a7-b75c-e467a157dd44
2024-12-10 17:11:59.576 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-19
2024-12-10 17:11:59.655 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				trafficData:
2024-12-10 17:11:59.658 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1488
2024-12-10 17:11:59.659 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				儲存的訊息:{"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.224","userName":"ruka","isProxy":true,"timestamp":1733821919652}
2024-12-10 17:11:59.659 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1488，RequestID: d184324c-5b89-4817-bba9-a90bce3b0153
2024-12-10 17:11:59.664 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 17:11:59.668 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63367, eventId=1, section=A區, quantity=1
2024-12-10 17:11:59.670 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 17:11:59.671 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=d184324c-5b89-4817-bba9-a90bce3b0153
2024-12-10 17:11:59.673 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-20
2024-12-10 17:11:59.753 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				trafficData:
2024-12-10 17:11:59.756 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				儲存的訊息:{"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.212","userName":"ruka","isProxy":true,"timestamp":1733821919750}
2024-12-10 17:11:59.756 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1487
2024-12-10 17:11:59.757 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1487，RequestID: 1ef0d007-5b7f-41dd-8304-9e677c5a7e9e
2024-12-10 17:11:59.767 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 17:11:59.774 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63368, eventId=1, section=A區, quantity=1
2024-12-10 17:11:59.784 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 17:11:59.786 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=1ef0d007-5b7f-41dd-8304-9e677c5a7e9e
2024-12-10 17:11:59.788 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-21
2024-12-10 17:11:59.858 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				trafficData:
2024-12-10 17:11:59.861 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				儲存的訊息:{"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.161","userName":"ruka","isProxy":true,"timestamp":1733821919852}
2024-12-10 17:11:59.861 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1486
2024-12-10 17:11:59.861 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1486，RequestID: 3af3df76-431a-40d2-857b-39eb050c1e3f
2024-12-10 17:11:59.866 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 17:11:59.869 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63369, eventId=1, section=A區, quantity=1
2024-12-10 17:11:59.871 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 17:11:59.873 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=3af3df76-431a-40d2-857b-39eb050c1e3f
2024-12-10 17:11:59.875 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-22
2024-12-10 17:11:59.953 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				trafficData:
2024-12-10 17:11:59.960 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.c.TicketStockService -
				目前剩餘票數: 1485
2024-12-10 17:11:59.960 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.e.d.a.s.c.TrafficWatcherService -
				儲存的訊息:{"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.198","userName":"ruka","isProxy":true,"timestamp":1733821919950}
2024-12-10 17:11:59.960 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.e.d.s.s.SalesServiceImpl -
				購票成功，剩餘庫存：1485，RequestID: 469c14e7-9382-4f25-a9a2-86ffb7188dda
2024-12-10 17:11:59.966 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				checkTicketAndUpdate更新成功，影響筆數: 1
2024-12-10 17:11:59.970 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.r.s.SalesRespositoryJdbcImpl -
				參數: orderId=63370, eventId=1, section=A區, quantity=1
2024-12-10 17:11:59.972 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.u.DatabaseUtils -
				addTicketOrder更新成功，影響筆數: 1
2024-12-10 17:11:59.973 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.EventController -
				訂單創建成功: UserId=3, EventId=1, Section=A區, Quantity=1, RequestId=469c14e7-9382-4f25-a9a2-86ffb7188dda
2024-12-10 17:11:59.975 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.e.d.c.c.StockUpdateConsumer -
				排隊結束:-23
2024-12-10 17:12:30.825 [http-nio-8080-exec-8] INFO  c.e.d.c.w.TicketWebSocketService -
				新的 WebSocket 連接建立: 0ae9a7d9-05bf-7713-d21a-3e8eac5663ac
2024-12-10 17:12:30.825 [http-nio-8080-exec-8] INFO  c.e.d.c.w.TicketWebSocketService -
				票務查詢服務已啟動
2024-12-10 17:12:31.833 [TaskScheduler-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 17:12:32.827 [TaskScheduler-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -
				Unexpected error occurred in scheduled task
java.util.ConcurrentModificationException: null
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1598)
	at com.example.demo.common.websocket.TicketWebSocketService.lambda$1(TicketWebSocketService.java:132)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at com.example.demo.common.websocket.TicketWebSocketService.updateTicketStatus(TicketWebSocketService.java:126)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-12-10 17:12:33.827 [http-nio-8080-exec-6] INFO  c.e.d.c.w.TicketWebSocketService -
				WebSocket 連接關閉: 0ae9a7d9-05bf-7713-d21a-3e8eac5663ac, 狀態: CloseStatus[code=1000, reason=null]
2024-12-10 17:12:33.827 [http-nio-8080-exec-6] INFO  c.e.d.c.w.TicketWebSocketService -
				票務查詢服務已停止
2024-12-10 17:12:50.036 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.198","userName":"ruka","isProxy":true,"timestamp":1733821919950}
2024-12-10 17:12:50.036 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733821919950, userName=ruka, ip=192.168.0.198, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=true, isRobot=false)
2024-12-10 17:12:50.036 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.161","userName":"ruka","isProxy":true,"timestamp":1733821919852}
2024-12-10 17:12:50.036 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733821919852, userName=ruka, ip=192.168.0.161, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=true, isRobot=false)
2024-12-10 17:12:50.036 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.212","userName":"ruka","isProxy":true,"timestamp":1733821919750}
2024-12-10 17:12:50.036 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733821919750, userName=ruka, ip=192.168.0.212, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=true, isRobot=false)
2024-12-10 17:12:50.036 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.224","userName":"ruka","isProxy":true,"timestamp":1733821919652}
2024-12-10 17:12:50.037 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733821919652, userName=ruka, ip=192.168.0.224, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=true, isRobot=false)
2024-12-10 17:12:50.037 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.135","userName":"ruka","isProxy":true,"timestamp":1733821919550}
2024-12-10 17:12:50.037 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733821919550, userName=ruka, ip=192.168.0.135, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=true, isRobot=false)
2024-12-10 17:12:50.037 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.237","userName":"ruka","isProxy":true,"timestamp":1733821919453}
2024-12-10 17:12:50.037 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733821919453, userName=ruka, ip=192.168.0.237, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=true, isRobot=false)
2024-12-10 17:12:50.037 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.234","userName":"ruka","isProxy":true,"timestamp":1733821919355}
2024-12-10 17:12:50.037 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733821919355, userName=ruka, ip=192.168.0.234, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=true, isRobot=false)
2024-12-10 17:12:50.037 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.200","userName":"ruka","isProxy":true,"timestamp":1733821919252}
2024-12-10 17:12:50.037 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733821919252, userName=ruka, ip=192.168.0.200, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=true, isRobot=false)
2024-12-10 17:12:50.037 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.3","userName":"ruka","isProxy":true,"timestamp":1733821919174}
2024-12-10 17:12:50.037 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733821919174, userName=ruka, ip=192.168.0.3, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=true, isRobot=false)
2024-12-10 17:12:50.037 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				嘗試轉換記錄: {"deviceType":"desktop","eventId":1,"isRobot":false,"requestType":"BUY_TICKET","ip":"192.168.0.255","userName":"ruka","isProxy":true,"timestamp":1733821919173}
2024-12-10 17:12:50.037 [http-nio-8080-exec-5] INFO  c.e.d.a.s.t.TrafficServiceImpl -
				轉換成功: TrafficRecordDto(timestamp=1733821919173, userName=ruka, ip=192.168.0.255, eventId=1, requestType=BUY_TICKET, deviceType=desktop, isProxy=true, isRobot=false)
